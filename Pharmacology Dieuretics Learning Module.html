<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diuretics Learning Module (ADHD Friendly)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Open+Sans:wght@400;600&display=swap');

        :root {
            --primary-color: #007bff; /* Blue */
            --secondary-color: #28a745; /* Green */
            --accent-color: #ffc107; /* Yellow */
            --alert-color: #dc3545; /* Red */
            --info-color: #17a2b8; /* Cyan */
            --text-color: #333;
            --bg-light: #f8f9fa;
            --bg-white: #ffffff;
            --border-color: #dee2e6;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --focus-border: #6c757d; /* Gray for focus boxes */
            --quiz-bg: #d4edda; /* Light green for quizzes */
            --reveal-bg: #e9ecef; /* Light gray for revealed content */
            --drug-card-bg: #f0f0f0; /* Light gray for drug quiz card */
            --button-mastered: #28a745; /* Green for Yes */
            --button-missed: #dc3545; /* Red for No */
            --progress-bar-bg: #e0e0e0;
            --progress-bar-fill: #4CAF50; /* Green fill */
            --break-prompt-bg: #ffebee; /* Light red for break prompts */
            --break-prompt-border: #ef9a9a; /* Medium red for border */
        }

        /* Crucial adjustments for iframe scrolling */
        html, body {
            height: 100%; /* Make sure HTML and Body fill the iframe */
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scrollbar */
            overflow-y: auto; /* Allow vertical scrolling within the iframe */
        }

        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-light);
            transition: font-size 0.2s ease, filter 0.5s ease-in-out; /* Smooth text size change and blur */
        }

        /* Styles for blurring the background content */
        body.blurred > *:not(#clockOutOverlay) {
            filter: blur(5px);
            pointer-events: none; /* Disables interaction with blurred content */
            user-select: none; /* Prevents text selection on blurred content */
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: var(--bg-white);
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--shadow-light);
            box-sizing: border-box; /* Include padding and border in the element's total width and height */
            min-height: calc(100vh - 40px); /* Ensure container is tall enough to trigger scroll */
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 25px 20px;
            border-radius: 8px 8px 0 0;
            text-align: center;
            margin-bottom: 20px;
            position: relative; /* For progress bar positioning */
        }

        header h1 {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            font-weight: 700;
            font-size: 2.5em;
        }

        /* Module Progress Bar */
        #moduleProgressBarContainer {
            width: 90%;
            height: 10px;
            background-color: var(--progress-bar-bg);
            border-radius: 5px;
            margin: 15px auto 0;
            overflow: hidden;
        }

        #moduleProgressBar {
            height: 100%;
            width: 0%;
            background-color: var(--progress-bar-fill);
            border-radius: 5px;
            transition: width 0.5s ease-in-out;
        }

        nav {
            background-color: var(--secondary-color);
            padding: 10px 0;
            border-radius: 0 0 8px 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px var(--shadow-light);
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        nav ul li {
            margin: 5px 15px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 12px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            cursor: pointer; /* Keep pointer cursor as they are clickable via JS */
        }

        nav ul li a:hover, nav ul li a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        nav ul li a.completed {
            background-color: #1e7e34; /* Darker green for completed */
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
        }


        h2, h3, h4 {
            font-family: 'Roboto', sans-serif;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 5px;
            margin-top: 30px;
        }

        h2 {
            font-size: 2em;
        }

        h3 {
            font-size: 1.5em;
        }

        h4 {
            font-size: 1.2em;
            border-bottom: 1px dashed var(--border-color);
            margin-bottom: 15px;
        }

        section {
            margin-bottom: 25px;
            padding: 15px;
            background-color: var(--bg-white);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease-in-out;
        }

        section:hover {
            transform: translateY(-3px);
        }

        .objectives ul {
            list-style-type: disc;
            padding-left: 20px;
        }

        .objective-item {
            margin-bottom: 8px;
        }

        .info-card {
            background-color: var(--bg-light);
            border-left: 5px solid var(--info-color);
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .reveal-button {
            background-color: var(--accent-color);
            color: var(--text-color);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: background-color 0.3s ease;
            display: block; /* Make button full width */
            width: fit-content; /* Adjust width to content */
        }

        .reveal-button:hover {
            background-color: #ffda6a;
        }

        .reveal-content {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: var(--reveal-bg);
            border-left: 3px solid var(--secondary-color);
            border-radius: 5px;
        }

        .question-card {
            background-color: var(--quiz-bg);
            border: 1px solid #c3e6cb;
            padding: 20px;
            margin: 30px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .question-card p {
            font-weight: 600;
            color: #155724;
            margin-bottom: 15px;
        }

        .question-card .options label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .question-card .options input[type="radio"],
        .question-card .options input[type="checkbox"] {
            margin-right: 8px;
        }

        .question-card .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }

        .question-card .feedback.correct {
            background-color: #d1ecf1; /* light blue */
            color: #0c5460; /* dark blue */
            border: 1px solid #bee5eb;
        }

        .question-card .feedback.incorrect {
            background-color: #f8d7da; /* light red */
            color: #721c24; /* dark red */
            border: 1px solid #f5c6cb;
        }

        .question-card .submit-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s ease;
        }

        .question-card .submit-btn:hover {
            background-color: #0056b3;
        }


        .prototype-drug-chart {
            border: 1px solid var(--border-color);
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.9em;
        }

        .prototype-drug-chart th, .prototype-drug-chart td {
            border: 1px solid var(--border-color);
            padding: 8px;
            text-align: left;
        }

        .prototype-drug-chart th {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
        }

        .prototype-drug-chart tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .note, .focus-prompt, .quick-fact, .patient-safety {
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            font-weight: 600;
        }

        .note {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            color: #856404;
        }

        .focus-prompt {
            background-color: #d1ecf1; /* light blue */
            border-left: 5px solid #0c5460; /* dark blue */
            color: #0c5460;
        }

        .quick-fact {
            background-color: #e2f0d9; /* very light green */
            border-left: 5px solid #6ab04c; /* medium green */
            color: #4a7d32;
        }

        .patient-safety {
            background-color: #f8d7da; /* light red */
            border-left: 5px solid #dc3545; /* Red */
            color: #721c24; /* dark red */
        }

        .highlight {
            background-color: #ffe082; /* Light yellow for highlighting key terms */
            padding: 2px 4px;
            border-radius: 3px;
        }

        .nclex-next-gen {
            background-color: #e6f7ff;
            border: 2px solid #a6d9f5;
            padding: 25px;
            margin: 40px 0;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .nclex-next-gen h3 {
            color: #2196f3;
            border-bottom: 1px dashed #a6d9f5;
            padding-bottom: 10px;
            margin-top: 0;
            margin-bottom: 20px;
        }

        .nclex-next-gen .case-study {
            margin-bottom: 20px;
            font-style: italic;
        }

        .nclex-next-gen .fill-in-the-blank {
            margin-top: 20px;
        }

        .nclex-next-gen .fill-in-the-blank input[type="text"] {
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            width: calc(100% - 20px);
            margin-top: 10px;
        }

        .nclex-next-gen .fill-in-the-blank button {
            margin-top: 15px;
        }

        .nclex-next-gen .rationale {
            background-color: #e0f2f7;
            border-left: 4px solid #4a90e2;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            display: none;
        }

        .nclex-next-gen .rationale p {
            margin: 0;
            font-size: 0.95em;
        }

        .nclex-next-gen table.responsive-table th,
        .nclex-next-gen table.responsive-table td {
            text-align: left !important; /* Override center alignment for clarity in rationale */
        }
        .nclex-next-gen table.responsive-table td input[type="checkbox"],
        .nclex-next-gen table.responsive-table td input[type="radio"] {
            margin-left: 0; /* Align checkbox */
        }
        .nclex-next-gen .blank-underline {
            border-bottom: 1px solid #333;
            padding-bottom: 2px;
            margin: 0 5px;
            display: inline-block;
            min-width: 50px;
        }


        .figure-placeholder {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background-color: #eef;
            border: 1px dashed #bbb;
            border-radius: 5px;
            color: #666;
            font-style: italic;
        }

        .recap {
            background-color: #f0f8ff; /* Lighter blue */
            border-left: 5px solid #add8e6; /* Light steel blue */
            padding: 15px;
            margin: 25px 0;
            border-radius: 5px;
            font-weight: 500;
        }
        .recap h4 {
            color: #36a2eb;
            border-bottom: 1px solid #add8e6;
        }


        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 0 0 8px 8px;
        }

        /* Tooltip styles */
        .tooltip-container {
            position: relative;
            display: inline-block;
            cursor: help;
            border-bottom: 1px dotted var(--primary-color); /* Underline for tooltips */
        }

        .tooltip-text {
            visibility: hidden;
            width: 250px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the text */
            left: 50%;
            margin-left: -125px; /* Center the tooltip */
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85em;
        }

        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%; /* At the bottom of the tooltip */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #555 transparent transparent transparent;
        }

        .tooltip-container:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Drug Mastery Quiz Specific Styles */
        #drug-mastery-quiz .quiz-card {
            background-color: var(--drug-card-bg);
            border: 1px solid var(--primary-color);
            padding: 25px;
            margin: 30px auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            max-width: 600px;
            display: none; /* Hidden until quiz starts */
            text-align: center;
        }

        #drug-mastery-quiz .quiz-card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.8em;
            border-bottom: none; /* Override default h4 border */
        }

        #drug-mastery-quiz .quiz-card p {
            font-size: 1.2em;
            margin-bottom: 20px;
            font-weight: normal;
        }

        #drug-mastery-quiz .quiz-controls {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
            gap: 10px;
        }

        #drug-mastery-quiz .quiz-controls button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }

        #drug-mastery-quiz .quiz-controls button:active {
            transform: translateY(1px);
        }

        #drug-mastery-quiz #startQuizBtn {
            background-color: var(--secondary-color);
            color: white;
            display: block;
            margin: 20px auto;
            width: fit-content;
            padding: 15px 30px;
            font-size: 1.4em;
        }
        #drug-mastery-quiz #startQuizBtn:hover {
            background-color: #218838;
        }

        #drug-mastery-quiz #showAnswerBtn {
            background-color: var(--accent-color);
            color: var(--text-color);
        }
        #drug-mastery-quiz #showAnswerBtn:hover {
            background-color: #e0a800;
        }

        #drug-mastery-quiz #answerFeedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--reveal-bg);
            border: 1px dashed var(--info-color);
            text-align: left;
            display: none;
        }

        #drug-mastery-quiz #answerFeedback h5 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.1em;
        }

        #drug-mastery-quiz #masteryButtons {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
            gap: 10px;
        }

        #drug-mastery-quiz #masteryButtons button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
        }
        #drug-mastery-quiz #masteryButtons button#correctBtn {
            background-color: var(--button-mastered);
            color: white;
        }
        #drug-mastery-quiz #masteryButtons button#correctBtn:hover {
            background-color: #218838;
        }
        #drug-mastery-quiz #masteryButtons button#incorrectBtn {
            background-color: var(--button-missed);
            color: white;
        }
        #drug-mastery-quiz #masteryButtons button#incorrectBtn:hover {
            background-color: #c82333;
        }

        /* Removed #nextCardBtn from quiz styles as it's now automatic */

        #drug-mastery-quiz #quizSummary {
            display: none;
            padding: 25px;
            background-color: #e6ffe6; /* Light green for success */
            border: 2px solid var(--secondary-color);
            border-radius: 10px;
            text-align: center;
        }
        #drug-mastery-quiz #quizSummary h4 {
            color: var(--secondary-color);
            font-size: 2em;
            margin-bottom: 15px;
            border-bottom: none;
        }
        #drug-mastery-quiz #quizSummary p {
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        #drug-mastery-quiz #quizSummary button {
            margin: 10px;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            border: none;
        }
        #drug-mastery-quiz #quizSummary button#restartQuizBtn {
            background-color: var(--primary-color);
            color: white;
        }
        #drug-mastery-quiz #quizSummary button#restartQuizBtn:hover {
            background-color: #0056b3;
        }
        #drug-mastery-quiz #quizSummary button#reviewMissedBtn {
            background-color: var(--alert-color);
            color: white;
        }
        #drug-mastery-quiz #quizSummary button#reviewMissedBtn:hover {
            background-color: #c82333;
        }

        #drug-mastery-quiz .progress-tracker {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }

        /* ADHD-specific additions */
        .quick-note-area {
            background-color: #f7f7f7;
            border: 1px dashed #ccc;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .quick-note-area h3 {
            color: #666;
            border-bottom: 1px solid #ddd;
            margin-top: 0;
        }

        .quick-note-area textarea {
            width: calc(100% - 10px);
            min-height: 100px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Open Sans', sans-serif;
            font-size: 0.95em;
            resize: vertical; /* Allow vertical resizing */
        }

        .text-size-controls {
            text-align: right;
            margin-bottom: 10px;
        }

        .text-size-controls button {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 5px;
        }

        .micro-break-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--break-prompt-bg);
            border: 2px solid var(--break-prompt-border);
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            font-weight: bold;
            color: var(--alert-color);
            display: none; /* Hidden by default */
            animation: fadeInOut 8s forwards; /* Animation */
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            10% { opacity: 1; transform: translateX(-50%) translateY(0); }
            90% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(20px); }
        }

        /* Clock Out Overlay Styles (Revised for improved centering and appearance) */
        #clockOutOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Dark semi-transparent overlay */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000; /* Make sure it's on top of everything */
            /* Start hidden and transition in */
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s 0.5s, opacity 0.5s ease-out; /* Delay visibility transition for smooth fade out */
        }

        #clockOutOverlay.active {
            visibility: visible;
            opacity: 1;
            transition: visibility 0s, opacity 0.5s ease-in; /* No delay for fade in */
        }

        #clockOutContent {
            background-color: var(--bg-white);
            color: var(--text-color);
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.4);
            text-align: center;
            max-width: 400px;
            width: 90%; /* Responsive width */
            /* Add some initial transform to make it "pop" when appearing */
            transform: scale(0.9) translateY(20px);
            opacity: 0;
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
        }

        #clockOutOverlay.active #clockOutContent {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        #clockOutContent h2 {
            color: var(--primary-color);
            font-family: 'Roboto', sans-serif; /* Ensure Roboto font */
            font-size: 2.8em; /* Slightly larger for impact */
            margin-top: 0;
            border-bottom: none; /* Override default h2 border */
        }

        #brainEmoji {
            font-size: 6em; /* Make the emoji very large */
            margin: 20px 0;
            display: block; /* Ensure it takes full width for margin auto */
            animation: floatUpDown 2s infinite alternate ease-in-out; /* Gentle animation */
        }

        @keyframes floatUpDown {
            0% { transform: translateY(0); }
            100% { transform: translateY(-15px); } /* Increased float */
        }

        #countdownTimer {
            font-family: 'Roboto', monospace; /* Monospace for consistent digit width */
            font-size: 4.5em; /* Slightly larger timer */
            font-weight: 700;
            color: var(--alert-color); /* Red for urgency */
            margin: 20px 0;
        }

        /* Mobile Responsiveness for Clock Out */
        @media (max-width: 500px) {
            #clockOutContent {
                padding: 25px; /* Smaller padding on small screens */
            }
            #clockOutContent h2 {
                font-size: 2em;
            }
            #brainEmoji {
                font-size: 4em;
            }
            #countdownTimer {
                font-size: 3.5em;
            }
        }


        /* Mobile Responsiveness for overall layout */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 10px;
            }

            header h1 {
                font-size: 1.8em;
            }

            nav ul {
                flex-direction: column;
            }

            nav ul li {
                margin: 5px 0;
            }

            .prototype-drug-chart, .responsive-table {
                display: block;
                width: 100%;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .prototype-drug-chart thead, .responsive-table thead {
                display: none;
            }

            .prototype-drug-chart tbody tr, .responsive-table tbody tr {
                display: block;
                margin-bottom: 10px;
                border: 1px solid var(--border-color);
                border-radius: 5px;
            }

            .prototype-drug-chart tbody td, .responsive-table tbody td {
                display: block;
                text-align: right;
                padding-left: 50%;
                position: relative;
            }

            .prototype-drug-chart tbody td::before, .responsive-table tbody td::before {
                content: attr(data-label);
                position: absolute;
                left: 10px;
                width: calc(50% - 20px);
                padding-right: 10px;
                white-space: nowrap;
                text-align: left;
                font-weight: bold;
            }

            .micro-break-prompt {
                width: 90%;
                left: 5%;
                transform: translateX(0%);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Module 41: Diuretics</h1>
            <p>Mastering Pharmacology for Nursing Care - ADHD Friendly!</p>
            <div id="moduleProgressBarContainer">
                <div id="moduleProgressBar"></div>
            </div>
        </header>

        <nav>
            <ul>
                <li><a id="nav-objectives">Objectives</a></li>
                <li><a id="nav-introduction">Intro</a></li>
                <li><a id="nav-thiazide-diuretics">Thiazides</a></li>
                <li><a id="nav-np-thiazides">NP: Thiazides</a></li>
                <li><a id="nav-loop-diuretics">Loop Diuretics</a></li>
                <li><a id="nav-np-loop">NP: Loop</a></li>
                <li><a id="nav-osmotic-diuretics">Osmotic Diuretics</a></li>
                <li><a id="nav-carbonic-anhydrase-inhibitors">Carbonic Anhydrase</a></li>
                <li><a id="nav-potassium-sparing-diuretics">Potassium-Sparing</a></li>
                <li><a id="nav-np-potassium-sparing">NP: K-Sparing</a></li>
                <li><a id="nav-critical-thinking">Case Study</a></li>
                <li><a id="nav-review-questions">Review Qs</a></li>
                <li><a id="nav-drug-mastery-quiz">Drug Challenge!</a></li>
            </ul>
        </nav>

        <div class="text-size-controls">
            <button id="increaseText">A+</button>
            <button id="decreaseText">A-</button>
        </div>

        <div class="micro-break-prompt" id="microBreakPrompt">
            Quick Break! Stand up and stretch, or take a few deep breaths!
        </div>

        <section id="objectives" class="objectives">
            <h2>Your Learning Adventure Starts Here!</h2>
            <p>By the end of this module, you'll be able to:</p>
            <ul>
                <li class="objective-item"><strong>Compare the action and uses of thiazide, loop, and potassium-sparing diuretics.</strong></li>
                <li class="objective-item"><strong>Differentiate side effects and adverse reactions related to thiazide, loop, and potassium-sparing diuretics.</strong></li>
                <li class="objective-item"><strong>Explain the nursing interventions—including patient teaching—related to thiazide, loop, and potassium-sparing diuretics.</strong></li>
                <li class="objective-item"><strong>Apply the Clinical Judgment [Nursing Process] for the patient taking thiazide, loop, and potassium-sparing diuretics.</strong></li>
            </ul>
            <p class="note"><strong>Bonus!</strong> For extra info and cool tools, check out <a href="http://evolve.elsevier.com/McCuistion/pharmacology" target="_blank">evolve.elsevier.com/McCuistion/pharmacology</a></p>
        </section>

        <div class="quick-note-area">
            <h3>Quick Notes / Brain Dump Space</h3>
            <textarea id="quickNotesTextarea" placeholder="Jot down thoughts, questions, or key takeaways here... (Note: These will try to save to your browser's local storage, but backup important info!)"></textarea>
        </div>

        <section id="introduction">
            <h2>1. Introduction to Diuretics: Fluid Balance Masters</h2>
            <div class="info-card">
                <p><span class="tooltip-container">Diuretics<span class="tooltip-text">Drugs that increase urine flow (diuresis) by inhibiting sodium and water reabsorption from the kidney tubules. Used to decrease hypertension and reduce edema.</span></span> are medications primarily used for two main purposes:</p>
                <ul>
                    <li>To decrease <span class="highlight">hypertension</span> (lower blood pressure, typically >120/80 mm Hg).</li>
                    <li>To decrease <span class="highlight">edema</span>, especially peripheral and pulmonary, seen in conditions like heart failure (HF), renal disorders, or liver disorders.</li>
                </ul>
                <p>Diuretics work by promoting increased urine flow, or <span class="highlight">diuresis</span>. They do this by inhibiting the reabsorption of sodium and water from various segments of the kidney tubules.</p>
                <button class="reveal-button">How Your Kidneys Process Fluid & How Diuretics Help</button>
                <div class="reveal-content">
                    <p>Your kidneys are incredibly efficient filters! Every 1.5 hours, your body's entire extracellular fluid (ECF) volume passes through the kidneys' glomeruli for cleansing. This is the first step of urine formation.</p>
                    <ul>
                        <li>Small particles (electrolytes, drugs, glucose, waste) are filtered.</li>
                        <li>Larger substances (protein, blood cells) are normally not filtered.</li>
                        <li>Sodium and water are the largest filtered substances.</li>
                    </ul>
                    <p>Normally, 99% of filtered sodium is reabsorbed. Diuretics intervene in this reabsorption at different points:</p>
                    <ul>
                        <li>50%-55% of Na+ reabsorption: Proximal tubules</li>
                        <li>35%-40% of Na+ reabsorption: Loop of Henle</li>
                        <li>5%-10% of Na+ reabsorption: Distal tubules</li>
                        <li><3% of Na+ reabsorption: Collecting tubules</li>
                    </ul>
                    <div class="note">
                        <p>Diuretics that act on tubules closest to the glomeruli (like osmotic diuretics) have the greatest effect in causing <span class="highlight">natriuresis</span> (sodium loss in urine).</p>
                    </div>
                    <p><strong>Antihypertensive Effect:</strong> Diuretics block sodium and chloride reabsorption, leading to sodium and water loss. This decreases fluid volume and lowers blood pressure.</p>
                    <p><strong>Edema Reduction:</strong> With fluid loss, edema (fluid retention in tissues) decreases. If sodium is retained, water is also retained, increasing blood pressure and edema.</p>
                    <div class="quick-fact">
                        <p>Many diuretics cause the loss of other electrolytes (potassium, magnesium, chloride, bicarbonate). Diuretics are categorized as <span class="highlight">potassium-wasting</span> or <span class="highlight">potassium-sparing</span>.</p>
                    </div>
                    <p>Five main categories of diuretics:</p>
                    <ul>
                        <li>Thiazide and thiazide-like diuretics</li>
                        <li>Loop diuretics</li>
                        <li>Osmotic diuretics</li>
                        <li>Carbonic anhydrase inhibitors</li>
                        <li>Potassium-sparing diuretics</li>
                    </ul>
                    <p>Thiazide, loop, and potassium-sparing diuretics are most commonly prescribed for hypertension and HF-related edema. All except potassium-sparing are potassium-wasting.</p>
                </div>
            </div>
            <div class="figure-placeholder">
                FIGURE 41.1 Diuretics act on different segments of the renal tubule (Not displayed here).
            </div>
            <div class="recap">
                <h4>Recap: Diuretics - The Basics</h4>
                <ul>
                    <li>Diuretics = lower BP & reduce edema.</li>
                    <li>Mechanism: Inhibit Na+ and H2O reabsorption in kidneys.</li>
                    <li>Greater effect from diuretics acting closer to glomeruli.</li>
                    <li>Fluid loss lowers BP & reduces edema.</li>
                    <li>Types: Thiazide, Loop, Osmotic, Carbonic Anhydrase, Potassium-Sparing.</li>
                    <li>Most are K+-wasting, except K+-sparing.</li>
                </ul>
            </div>
        </section>

        <section id="thiazide-diuretics">
            <h2>2. Thiazides and Thiazide-Like Diuretics</h2>
            <div class="info-card">
                <p>Chlorothiazide was the first thiazide, followed by hydrochlorothiazide (HCTZ). These diuretics act on the <span class="highlight">distal convoluted renal tubule</span> to promote the excretion of sodium, chloride, and water.</p>
                <h4>Primary Uses:</h4>
                <ul>
                    <li>Treat <span class="highlight">hypertension</span>.</li>
                    <li>Treat <span class="highlight">peripheral edema</span>.</li>
                </ul>
                <div class="note">
                    <p>Thiazides are NOT for immediate diuresis and are ineffective in patients with severe renal dysfunction (creatinine clearance < 30 mL/min). They are primarily for patients with normal renal function.</p>
                </div>
                <h4>Key Effects:</h4>
                <ul>
                    <li>Cause loss of sodium, potassium, and magnesium.</li>
                    <li>Promote <span class="highlight">calcium reabsorption</span> (can lead to hypercalcemia).</li>
                    <li>Can cause <span class="highlight">hyperglycemia</span> (use cautiously in diabetes mellitus).</li>
                    <li>Can increase serum cholesterol, LDL, and triglyceride levels.</li>
                </ul>
                <p>HCTZ is often combined with other antihypertensive drugs (ACE inhibitors, beta blockers, etc.) for better blood pressure control.</p>
                <table class="prototype-drug-chart responsive-table">
                    <thead>
                        <tr>
                            <th>Drug Class</th>
                            <th>Dosage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Drug Class">Thiazide diuretic</td>
                            <td data-label="Dosage">
                                Hypertension: A: PO: 12.5–50 mg/d; max: 50 mg/d<br>
                                Edema: A: PO: 25–100 mg/d in single or divided doses; max: 100 mg/d
                            </td>
                        </tr>
                        <tr>
                            <th colspan="2">Watch Out For! (Contraindications & Interactions)</th>
                        </tr>
                        <tr>
                            <td data-label="Contraindications" colspan="2">
                                Anuria, hypersensitivity<br>
                                <strong>Caution:</strong> Hepatic/renal dysfunction, diabetes mellitus, gout, asthma, hypotension, electrolyte imbalance, older adults, breastfeeding, hypovolemia, hypokalemia, hyponatremia, hypomagnesemia, hypochloremia
                            </td>
                        </tr>
                        <tr>
                            <td data-label="Drug-Lab-Food Interactions" colspan="2">
                                <strong>Increased digitalis toxicity with:</strong> digitalis if hypokalemia is present; <strong>increased renal toxicity with:</strong> aspirin; <strong>increased potassium loss with:</strong> steroids; <strong>decreased effect of:</strong> antidiabetics; <strong>decreased thiazide absorption and effects with:</strong> NSAIDs, cholestyramine, and colestipol<br>
                                <strong>Lab:</strong> Increased serum calcium, glucose, uric acid; decreased serum potassium, sodium, magnesium
                            </td>
                        </tr>
                        <tr>
                            <th>How it Moves (Pharmacokinetics)</th>
                            <th>How it Works (Pharmacodynamics)</th>
                        </tr>
                        <tr>
                            <td data-label="Pharmacokinetics">
                                <strong>Absorption:</strong> Readily absorbed from GI tract<br>
                                <strong>Distribution:</strong> PB: 40%–68%<br>
                                <strong>Metabolism:</strong> t½: 5.6–14.8 h<br>
                                <strong>Excretion:</strong> In urine
                            </td>
                            <td data-label="Pharmacodynamics">
                                <strong>PO:</strong> Onset: 2 h; Peak: 4 h; Duration: 6–12 h<br>
                                <strong>Therapeutic Effects/Uses:</strong> To increase urine output and to treat hypertension and edema due to HF, nephrotic syndrome, and ascites<br>
                                <strong>Mechanism of Action:</strong> Action is on the renal distal tubules, promoting sodium, potassium, and water excretion and decreasing preload and cardiac output; also decreases edema; acts on arterioles and causes vasodilation, thus decreasing blood pressure
                            </td>
                        </tr>
                        <tr>
                            <th>Side Effects</th>
                            <th>Adverse Reactions</th>
                        </tr>
                        <tr>
                            <td data-label="Side Effects">Dizziness, headache, blurred vision, anorexia, nausea, vomiting, diarrhea, abdominal cramps, constipation, rash, photosensitivity, paresthesias, weakness, erectile dysfunction</td>
                            <td data-label="Adverse Reactions">Orthostatic hypotension, hyponatremia, hypomagnesemia, hypochloremia, hyperglycemia, hypercalcemia, hyperuricemia, hypercholesterolemia, hypertriglyceridemia, metabolic alkalosis, pulmonary edema, ocular hypertension, gout<br>
                                <strong>Life-threatening:</strong> Hypokalemia, aplastic anemia, leukopenia, hemolytic anemia, thrombocytopenia, agranulocytosis, renal failure, Stevens-Johnson syndrome
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="reveal-button">Side Effects and Adverse Reactions</button>
                <div class="reveal-content">
                    <h4>Electrolyte Imbalances:</h4>
                    <ul>
                        <li><span class="highlight">Hypokalemia</span> (low potassium): Most common. Closely monitor serum potassium, often requires potassium supplements.</li>
                        <li><span class="highlight">Hypomagnesemia</span> (low magnesium).</li>
                        <li><span class="highlight">Hypercalcemia</span> (elevated calcium): Thiazides block calcium excretion. Can be dangerous with digitalis.</li>
                        <li><span class="highlight">Hypochloremia</span> (low chloride).</li>
                    </ul>
                    <h4>Other Metabolic Effects:</h4>
                    <ul>
                        <li><span class="highlight">Hyperglycemia</span> (elevated blood glucose): Use cautiously in diabetes mellitus.</li>
                        <li><span class="highlight">Hyperuricemia</span> (elevated uric acid): Can precipitate gout attacks.</li>
                        <li><span class="highlight">Hyperlipidemia</span> (elevated cholesterol, LDL, triglycerides).</li>
                    </ul>
                    <h4>Other Side Effects:</h4>
                    <ul>
                        <li>Dizziness, headache, nausea, vomiting, constipation.</li>
                        <li>Photosensitivity (use sunblock).</li>
                        <li>Orthostatic hypotension.</li>
                        <li>Rare: Blood dyscrasias (aplastic anemia, leukopenia, etc.), Stevens-Johnson syndrome.</li>
                    </ul>
                    <table class="prototype-drug-chart responsive-table">
                        <thead>
                            <tr>
                                <th>Serum Chemistry Parameter</th>
                                <th>Abnormal Results</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-label="Parameter">Potassium (3.5–5.0 mEq/L)</td>
                                <td data-label="Results">Hypokalemia (low serum potassium)</td>
                            </tr>
                            <tr>
                                <td data-label="Parameter">Magnesium (1.5–2.5 mEq/L)</td>
                                <td data-label="Results">Hypomagnesemia (low serum magnesium)</td>
                            </tr>
                            <tr>
                                <td data-label="Parameter">Calcium (8.6–10.2 mg/dL)</td>
                                <td data-label="Results">Hypercalcemia (elevated serum calcium)</td>
                            </tr>
                            <tr>
                                <td data-label="Parameter">Chloride (96–106 mEq/L)</td>
                                <td data-label="Results">Hypochloremia (low serum chloride)</td>
                            </tr>
                            <tr>
                                <td data-label="Parameter">Uric acid (2.8–8.0 mg/dL)</td>
                                <td data-label="Results">Hyperuricemia (elevated uric acid)</td>
                            </tr>
                            <tr>
                                <td data-label="Parameter">Blood glucose (70–99 mg/dL)</td>
                                <td data-label="Results">Hyperglycemia (increased blood glucose)</td>
                            </tr>
                            <tr>
                                <td data-label="Parameter">Cholesterol (<200 mg/dL), LDL (<100 mg/dL), Triglyceride (<150 mg/dL)</td>
                                <td data-label="Results">Elevated cholesterol, LDL, and triglycerides</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="quick-fact">
                    <h4>Herbal Alert for Thiazides!</h4>
                    <ul>
                        <li>Aloe: Can decrease serum potassium, causing hypokalemia.</li>
                        <li>Ginkgo: May increase blood pressure.</li>
                        <li>Licorice: Can increase potassium loss, leading to hypokalemia.</li>
                        <li>Hawthorn: May potentiate hypotension.</li>
                    </ul>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: Thiazide Diuretics</h4>
                <ul>
                    <li>Act on distal tubule; promote Na+, Cl-, H2O excretion.</li>
                    <li>Uses: Hypertension, peripheral edema. NOT for immediate diuresis or severe renal dysfunction.</li>
                    <li>Effects: K+ & Mg+ loss, Ca+ reabsorption (hypercalcemia risk), hyperglycemia, hyperuricemia, hyperlipidemia.</li>
                    <li>Major interaction: Digoxin (hypokalemia increases toxicity).</li>
                    <li>Side effects: Dizziness, photosensitivity, orthostatic hypotension.</li>
                </ul>
            </div>
        </section>

        <section id="np-thiazides">
            <h2>3. Clinical Judgment: Nursing Process - Diuretics: Thiazides</h2>
            <div class="info-card">
                <p>Our core concept here is: <span class="highlight">Elimination</span> (excretion of body waste products through the urinary system).</p>
                <button class="reveal-button">Your Nursing Superpowers: Assessment to Evaluation!</button>
                <div class="reveal-content">
                    <h3>Recognize Cues [Assessment]: What do you notice?</h3>
                    <ul>
                        <li><strong>Vital Signs, Weight, Urine Output:</strong> Obtain baseline levels.</li>
                        <li><strong>Serum Chemistry:</strong> Assess baseline electrolytes (especially potassium), glucose, uric acid.</li>
                        <li><strong>Edema:</strong> Check peripheral extremities for presence and pitting.</li>
                        <li><strong>Drug and Herbal History:</strong> Review for potential interactions (digoxin, corticosteroids, antidiabetics, ginkgo, licorice).</li>
                    </ul>

                    <h3>Analyze Cues and Prioritize Hypothesis [Patient Problems]: What's the biggest issue?</h3>
                    <ul>
                        <li>Disrupted fluid and electrolyte imbalance</li>
                        <li>Fluid overload</li>
                        <li>Hypokalemia</li>
                        <li>Hypernatremia</li>
                        <li>Elimination (problem with)</li>
                        <li>Hyperglycemia</li>
                    </ul>

                    <h3>Generate Solutions [Planning]: What's the goal?</h3>
                    <ul>
                        <li>The patient’s blood pressure will be decreased or return to normal.</li>
                        <li>The patient’s edema will be decreased.</li>
                        <li>The patient’s serum chemistry levels will remain within normal ranges.</li>
                    </ul>

                    <h3>Take Action [Nursing Interventions]: What do YOU do?</h3>
                    <ul>
                        <li><strong>Monitor Vital Signs & Serum Electrolytes:</strong> Especially potassium, glucose, uric acid, and cholesterol levels. Report changes. Remember: Hypokalemia + Digoxin = Digitalis toxicity.</li>
                        <li><strong>Hypokalemia Signs:</strong> Observe for muscle weakness, leg cramps, and cardiac dysrhythmias.</li>
                        <li><strong>Daily Weight:</strong> Monitor patient’s weight at the same time every day with the same clothing. A weight gain of 2.2 lb = 1 L of body fluids.</li>
                        <li><strong>Urine Output:</strong> Note output to determine fluid loss or retention.</li>
                        <li><strong>Hyperglycemia Signs:</strong> Observe for signs and symptoms of hyperglycemia.</li>
                    </ul>

                    <h3>Patient Teaching: Empowering Your Patient!</h3>
                    <h4>General:</h4>
                    <ul>
                        <li><strong>Adherence:</strong> Emphasize adherence to the therapy plan. Patients may not feel immediate improvement or realize missed doses are harmful.</li>
                        <li><strong>Timing:</strong> Suggest taking the drug early in the morning to avoid nocturia and sleep disturbance.</li>
                        <li><strong>Safety:</strong> Keep drugs out of reach of small children; request childproof bottles.</li>
                        <li><strong>Herbals:</strong> Inform about potential interactions with herbal products.</li>
                    </ul>
                    <h4>Self-Administration:</h4>
                    <ul>
                        <li>Instruct patients/family how to take blood pressure and record daily results.</li>
                    </ul>
                    <h4>Side Effects:</h4>
                    <ul>
                        <li><strong>Orthostatic Hypotension:</strong> Instruct patients to slowly change positions from lying to standing to prevent dizziness.</li>
                        <li><strong>Hyperglycemia:</strong> Advise prediabetic patients to have blood glucose checked periodically (large HCTZ doses increase blood glucose).</li>
                        <li><strong>Photosensitivity:</strong> Suggest using sunblock when in direct sunlight.</li>
                    </ul>
                    <h4>Diet:</h4>
                    <ul>
                        <li><strong>Potassium:</strong> Teach patients to eat foods rich in potassium (fruits, fruit juices, vegetables). Potassium supplements may be ordered.</li>
                        <li><strong>GI Upset:</strong> Instruct patients to take drugs with food to avoid GI upset (anorexia, nausea, vomiting, diarrhea).</li>
                    </ul>

                    <h3>Evaluate Outcomes [Evaluation]: Did it work?</h3>
                    <ul>
                        <li>Evaluate the effectiveness of drug therapy: Reduced blood pressure and edema, normal blood chemistry.</li>
                        <li>Determine absence of side effects and adverse reactions.</li>
                    </ul>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: NP - Thiazides</h4>
                <ul>
                    <li><strong>Assess:</strong> VS, weight, UO, serum electrolytes (K+, glucose, uric acid), edema, drug/herb history.</li>
                    <li><strong>Problems:</strong> Fluid/electrolyte imbalance, fluid overload, hypokalemia, hyperglycemia.</li>
                    <li><strong>Goals:</strong> Decreased BP & edema, normal labs.</li>
                    <li><strong>Intervene:</strong> Monitor VS/labs (especially K+), watch for hypokalemia/hyperglycemia signs, daily weight, UO.</li>
                    <li><strong>Teach:</strong> Adherence, morning dose, safety, herbals, slow position changes, sunblock, K+-rich foods, take with food.</li>
                    <li><strong>Evaluate:</strong> Reduced BP/edema, normal labs, no side effects.</li>
                </ul>
            </div>
        </section>

        <section id="loop-diuretics">
            <h2>4. Loop Diuretics: Powerful Fluid Removers</h2>
            <div class="info-card">
                <p><span class="tooltip-container">Loop Diuretics<span class="tooltip-text">Potent diuretics that act on the thick ascending loop of Henle to inhibit chloride transport of sodium into the circulation, leading to significant loss of sodium, water, potassium, calcium, and magnesium.</span></span> are extremely potent diuretics that act on the <span class="highlight">thick ascending loop of Henle</span>. They inhibit chloride transport of sodium, leading to marked depletion of water and electrolytes.</p>
                <h4>Key Effects:</h4>
                <ul>
                    <li>Cause rapid and significant loss of sodium, water, potassium, calcium, and magnesium.</li>
                    <li>Can increase blood glucose and uric acid levels.</li>
                    <li>More potent than thiazides for diuresis (2-3x more effective at inhibiting Na+ reabsorption).</li>
                    <li>Less effective as antihypertensive agents compared to thiazides.</li>
                    <li>Increase renal blood flow up to 40%.</li>
                </ul>
                <div class="note">
                    <p>Furosemide is a frequently prescribed loop diuretic for patients with creatinine clearance < 30 mL/min and end-stage renal disease, unlike thiazides which are less effective in renal impairment.</p>
                </div>
                <p>Common examples include Furosemide and Bumetanide (more potent than furosemide). Ethacrynic acid is reserved for patients allergic to sulfa drugs (furosemide/bumetanide are sulfonamide derivatives).</p>
                <table class="prototype-drug-chart responsive-table">
                    <thead>
                        <tr>
                            <th>Drug Class</th>
                            <th>Dosage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Drug Class">Loop diuretic</td>
                            <td data-label="Dosage">
                                Peripheral edema:<br>
                                A: PO: Initially 20–80 mg single dose/d; may repeat in 6–8 h; maint: 40–120 mg/d; max: 600 mg/d<br>
                                A: IM/IV: 20–40 mg; increase by 20 mg q2h PRN; max: 6 g/d IV
                            </td>
                        </tr>
                        <tr>
                            <th colspan="2">Watch Out For! (Contraindications & Interactions)</th>
                        </tr>
                        <tr>
                            <td data-label="Contraindications" colspan="2">
                                Hypersensitivity, anuria<br>
                                <strong>Caution:</strong> HF, electrolyte imbalance, diabetes mellitus, orthostatic hypotension, systemic lupus erythematosus, gout, hearing impairment, older adults, breastfeeding, hyperuricemia, renal/hepatic disease, thyroid disease
                            </td>
                        </tr>
                        <tr>
                            <td data-label="Drug-Lab-Food Interactions" colspan="2">
                                <strong>Increased orthostatic hypotension with:</strong> alcohol; <strong>increased ototoxicity with:</strong> aminoglycosides; <strong>increased bleeding with:</strong> anticoagulants; <strong>increased potassium loss with:</strong> steroids, amphotericin B, amiodarone; <strong>increased digitalis toxicity and cardiac dysrhythmias with:</strong> digoxin and hypokalemia; <strong>increased lithium toxicity; increased amphotericin B ototoxicity and nephrotoxicity</strong><br>
                                <strong>Food:</strong> Licorice may increase potassium loss.<br>
                                <strong>Lab:</strong> Increased BUN, blood/urine glucose, serum uric acid, ammonia; decreased potassium, sodium, calcium, magnesium, chloride serum levels<br>
                                <strong>Complementary and Alternative Therapies:</strong> Hawthorn may potentiate hypotension, and ginseng may decrease the action of loop diuretics.
                            </td>
                        </tr>
                        <tr>
                            <th>How it Moves (Pharmacokinetics)</th>
                            <th>How it Works (Pharmacodynamics)</th>
                        </tr>
                        <tr>
                            <td data-label="Pharmacokinetics">
                                <strong>Absorption:</strong> PO: Absorbed erratically from oral dose<br>
                                <strong>Distribution:</strong> PB: 95%<br>
                                <strong>Metabolism:</strong> t½: 0.5–1 h<br>
                                <strong>Excretion:</strong> In urine, some in feces; crosses the placenta
                            </td>
                            <td data-label="Pharmacodynamics">
                                <strong>PO:</strong> Onset: 30–60 min; Peak: 1–2 h; Duration: 6–8 h<br>
                                <strong>IV:</strong> Onset: 5 min; Peak: 20–30 min; Duration: 2 h<br>
                                <strong>Therapeutic Effects/Uses:</strong> To treat HF, renal dysfunction, hypertension, nephrotic syndrome, and acute pulmonary and peripheral edema<br>
                                <strong>Mechanism of Action:</strong> Inhibition of sodium and water reabsorption from loop of Henle and distal renal tubules; increases excretion of potassium, chloride, magnesium, ammonium, phosphate, and calcium
                            </td>
                        </tr>
                        <tr>
                            <th>Side Effects</th>
                            <th>Adverse Reactions</th>
                        </tr>
                        <tr>
                            <td data-label="Side Effects">Nausea, anorexia, diarrhea, dizziness, tinnitus, abdominal cramps, constipation, rash, headache, weakness, blurred vision, muscle cramps, photosensitivity, paresthesias, injection site reaction</td>
                            <td data-label="Adverse Reactions">Hypokalemia, hyponatremia, hypocalcemia, hypomagnesemia, hypochloremia, metabolic alkalosis, hypovolemia, thromboembolism, orthostatic hypotension, diabetes mellitus, hyperglycemia, hyperuricemia, hypertriglyceridemia, hearing loss, hypercholesterolemia, gout<br>
                                <strong>Life-threatening:</strong> Aplastic anemia, hemolytic anemia, eosinophilia, leukopenia, thrombocytopenia, agranulocytosis, Stevens-Johnson syndrome
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="reveal-button">Side Effects and Adverse Reactions</button>
                <div class="reveal-content">
                    <h4>Fluid and Electrolyte Imbalances:</h4>
                    <ul>
                        <li><span class="highlight">Hypokalemia</span>, <span class="highlight">Hyponatremia</span>, <span class="highlight">Hypocalcemia</span>, <span class="highlight">Hypomagnesemia</span>, <span class="highlight">Hypochloremia</span>: All are common due to potent excretion.</li>
                        <li>Hypochloremic metabolic alkalosis.</li>
                        <li><span class="highlight">Hypovolemia</span> (excess fluid loss).</li>
                    </ul>
                    <h4>Other Side Effects:</h4>
                    <ul>
                        <li><span class="highlight">Orthostatic hypotension</span>.</li>
                        <li>Transient <span class="highlight">hearing loss</span> (ototoxicity): More common with rapid IV injection of furosemide or with ethacrynic acid. Avoid with aminoglycosides.</li>
                        <li>Skin disturbances (photosensitivity, rash).</li>
                        <li><span class="highlight">Hyperglycemia</span> and <span class="highlight">Hyperuricemia</span>.</li>
                        <li>Elevated BUN and creatinine (from ECFV loss, reversible).</li>
                        <li>Rare: Thrombocytopenia, leukopenia.</li>
                    </ul>
                </div>
                <div class="patient-safety">
                    <h4>Major Drug Interaction Alert!</h4>
                    <p><strong>Digoxin:</strong> Loop diuretics cause hypokalemia, which significantly increases the risk of digitalis toxicity. Potassium replacement (food or supplements) and close monitoring of serum potassium are crucial.</p>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: Loop Diuretics</h4>
                <ul>
                    <li>Act on thick ascending loop of Henle. Very potent.</li>
                    <li>Cause rapid loss of Na+, H2O, K+, Ca2+, Mg2+.</li>
                    <li>Uses: Acute HF, pulmonary edema, renal dysfunction (even ESRD).</li>
                    <li>Side effects: Hypokalemia (major!), hyponatremia, hypovolemia, orthostatic hypotension, ototoxicity.</li>
                    <li>Major interaction: Digoxin (hypokalemia increases toxicity).</li>
                    <li>Give IV furosemide slowly to prevent hearing loss.</li>
                </ul>
            </div>
        </section>

        <section id="np-loop">
            <h2>5. Clinical Judgment: Nursing Process - Diuretics: Loop</h2>
            <div class="info-card">
                <p>Our core concept here is: <span class="highlight">Elimination</span>.</p>
                <button class="reveal-button">Your Nursing Superpowers: Assessment to Evaluation!</button>
                <div class="reveal-content">
                    <h3>Recognize Cues [Assessment]: What do you notice?</h3>
                    <ul>
                        <li><strong>Drug History:</strong> Note if patient is taking drugs that interact with loop diuretics (alcohol, aminoglycosides, anticoagulants, corticosteroids, lithium, amphotericin B, digitalis). Remember furosemide is highly protein bound and can displace other protein-bound drugs (e.g., warfarin).</li>
                        <li><strong>Baseline Vital Signs, Serum Electrolytes, Weight, Urine Output:</strong> Obtain these.</li>
                        <li><strong>Dose Comparison:</strong> Compare patient’s dose with recommended dose and report discrepancies.</li>
                        <li><strong>Allergies:</strong> Note hypersensitivity to sulfonamides (furosemide/bumetanide are sulfa derivatives).</li>
                    </ul>

                    <h3>Analyze Cues and Prioritize Hypothesis [Patient Problems]: What's the biggest issue?</h3>
                    <ul>
                        <li>Disrupted fluid and electrolyte imbalance</li>
                        <li>Fluid overload</li>
                        <li>Hypokalemia</li>
                        <li>Hypernatremia</li>
                        <li>Hypovolemia</li>
                        <li>Risk for ototoxicity</li>
                    </ul>

                    <h3>Generate Solutions [Planning]: What's the goal?</h3>
                    <ul>
                        <li>The patient’s edema will be reduced.</li>
                        <li>The patient’s blood pressure will be decreased.</li>
                        <li>The patient’s serum chemistry levels will remain within normal ranges.</li>
                    </ul>

                    <h3>Take Action [Nursing Interventions]: What do YOU do?</h3>
                    <ul>
                        <li><strong>Urinary Output:</strong> Monitor output (should be at least 30 mL/h or 600 mL/24 h). Notify provider if UO doesn't increase (severe renal disorder may be present).</li>
                        <li><strong>Daily Weight:</strong> Weigh patient at the same time every day with the same clothing. A loss of 2.2 lb = 1 L fluid loss.</li>
                        <li><strong>Vital Signs:</strong> Monitor, especially for marked decreases in blood pressure.</li>
                        <li><strong>IV Furosemide:</strong> Administer slowly; rapid injection can cause hearing loss (ototoxicity).</li>
                        <li><strong>Hypokalemia Signs:</strong> Observe for muscle weakness, abdominal distension, leg cramps, and/or cardiac dysrhythmias (if serum K+ < 3.5 mEq/L).</li>
                        <li><strong>Serum Potassium:</strong> Monitor levels, especially if patient is taking digoxin (hypokalemia enhances digitalis action, causing toxicity).</li>
                    </ul>

                    <h3>Patient Teaching: Empowering Your Patient!</h3>
                    <h4>General:</h4>
                    <ul>
                        <li><strong>Timing:</strong> Advise taking furosemide in the morning, not evening, to prevent sleep disturbance from nocturia.</li>
                        <li><strong>Safety:</strong> Advise requesting childproof medication bottle if children are around.</li>
                    </ul>
                    <h4>Side Effects:</h4>
                    <ul>
                        <li><strong>Orthostatic Hypotension:</strong> Teach patients to rise slowly from lying or sitting to standing.</li>
                    </ul>
                    <h4>Diet:</h4>
                    <ul>
                        <li><strong>GI Upset:</strong> Suggest taking furosemide with food to avoid nausea.</li>
                        <li><strong>Potassium:</strong> Emphasize importance of potassium-rich foods or supplements if needed due to potassium wasting.</li>
                    </ul>

                    <h3>Evaluate Outcomes [Evaluation]: Did it work?</h3>
                    <ul>
                        <li>Evaluate effectiveness: Decreased fluid retention/overload, decreased respiratory distress, increased cardiac output, increased urine output.</li>
                        <li>Check for absence of side effects.</li>
                    </ul>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: NP - Loop Diuretics</h4>
                <ul>
                    <li><strong>Assess:</strong> Drug history (interactions!), VS, labs (electrolytes), weight, UO, sulfa allergy.</li>
                    <li><strong>Problems:</strong> Fluid/electrolyte imbalance, fluid overload, hypokalemia, hypovolemia.</li>
                    <li><strong>Goals:</strong> Reduced edema/BP, normal labs.</li>
                    <li><strong>Intervene:</strong> Monitor UO (>30 mL/h), daily weight, VS (BP!), slow IV furosemide (ototoxicity), watch for hypokalemia signs (muscle weakness, dysrhythmias), monitor K+ for digoxin pts.</li>
                    <li><strong>Teach:</strong> Morning dose, safety, slow position changes, take with food, importance of K+ intake.</li>
                    <li><strong>Evaluate:</strong> Decreased edema/distress, increased UO, no side effects.</li>
                </ul>
            </div>
        </section>

        <section id="osmotic-diuretics">
            <h2>6. Osmotic Diuretics</h2>
            <div class="info-card">
                <p><span class="tooltip-container">Osmotic Diuretics<span class="tooltip-text">Drugs that increase the osmolality (concentration) and sodium reabsorption in the proximal tubule and loop of Henle, leading to excretion of sodium, chloride, potassium (lesser extent), and water. Used for decreasing intracranial or intraocular pressure.</span></span> (e.g., Mannitol) increase the osmolality and sodium reabsorption in the proximal tubule and loop of Henle. This leads to the excretion of sodium, chloride, potassium (to a lesser degree), and water.</p>
                <h4>Primary Uses:</h4>
                <ul>
                    <li>Decrease <span class="highlight">intracranial pressure (ICP)</span> in cerebral edema.</li>
                    <li>Decrease <span class="highlight">intraocular pressure (IOP)</span> in glaucoma.</li>
                    <li>Promote excretion of toxic substances.</li>
                    <li>Can be used in cancer chemotherapy (e.g., with cisplatin) to induce diuresis.</li>
                </ul>
                <div class="note">
                    <p>Mannitol is a potent, potassium-wasting diuretic often used in emergency situations for ICP and IOP.</p>
                </div>
                <table class="prototype-drug-chart responsive-table">
                    <thead>
                        <tr>
                            <th>Drug Class</th>
                            <th>Dosage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Drug Class">Osmotic diuretic</td>
                            <td data-label="Dosage">
                                Cerebral edema:<br>
                                A: IV: 0.25–2 g/kg/dose over 30–60 min; may repeat q6–8h PRN
                            </td>
                        </tr>
                        <tr>
                            <th colspan="2">Watch Out For! (Contraindications & Interactions)</th>
                        </tr>
                        <tr>
                            <td data-label="Contraindications" colspan="2">
                                Severe renal disease, severe heart failure, pulmonary edema, anuria, dehydration, active intracranial bleeding.<br>
                                <strong>Caution:</strong> Pregnancy, breastfeeding, older adults.
                            </td>
                        </tr>
                        <tr>
                            <td data-label="Drug-Lab-Food Interactions" colspan="2">
                                <strong>Enhances:</strong> Lithium excretion; <strong>potentiates:</strong> nephrotoxicity of aminoglycosides.
                            </td>
                        </tr>
                        <tr>
                            <th>How it Moves (Pharmacokinetics)</th>
                            <th>How it Works (Pharmacodynamics)</th>
                        </tr>
                        <tr>
                            <td data-label="Pharmacokinetics">
                                <strong>Absorption:</strong> Not absorbed from GI tract (given IV)<br>
                                <strong>Distribution:</strong> PB: UK<br>
                                <strong>Metabolism:</strong> t½: 30–150 minutes<br>
                                <strong>Excretion:</strong> In urine (mostly unchanged)
                            </td>
                            <td data-label="Pharmacodynamics">
                                <strong>IV:</strong> Onset: 1–3 h; Peak: 30–60 min; Duration: 6–8 h<br>
                                <strong>Therapeutic Effects/Uses:</strong> For edema, cerebral edema, IOP, increased ICP, acute renal failure, and excretion of toxic substances<br>
                                <strong>Mechanism of Action:</strong> Increases osmotic pressure of glomerular filtrate, inhibiting tubular reabsorption of water and electrolytes, increasing urine output
                            </td>
                        </tr>
                        <tr>
                            <th>Side Effects</th>
                            <th>Adverse Reactions</th>
                        </tr>
                        <tr>
                            <td data-label="Side Effects">Blurred vision, polyuria, headache, cough, hemoptysis, nausea, dizziness, injection site reaction, tachycardia, hypo/hyperkalemia, hypo/hypernatremia, hypo/hypertension</td>
                            <td data-label="Adverse Reactions">Pulmonary edema (from rapid fluid shift), fluid and electrolyte imbalance, acidosis<br>
                                <strong>Life-threatening:</strong> Renal failure, seizures, coma.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>Diuresis occurs within 1 to 3 hours after IV administration of mannitol.</p>
                <button class="reveal-button">Side Effects and Adverse Reactions</button>
                <div class="reveal-content">
                    <ul>
                        <li>Fluid and electrolyte imbalance.</li>
                        <li><span class="highlight">Pulmonary edema</span> from rapid fluid shifts (caution in HF patients!).</li>
                        <li>Nausea and vomiting.</li>
                        <li>Tachycardia (from rapid fluid loss).</li>
                        <li>Acidosis.</li>
                    </ul>
                    <div class="patient-safety">
                        <h4>Storage Alert!</h4>
                        <p>Crystallization of mannitol may occur at low temperatures. The vial should be warmed to dissolve crystals. Do NOT use if crystals are present and have not dissolved.</p>
                    </div>
                </div>
                <div class="note">
                    <p><strong>Contraindication:</strong> Mannitol must be given with extreme caution to patients with heart disease and HF. It should be immediately discontinued if HF or renal failure develops.</p>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: Osmotic Diuretics</h4>
                <ul>
                    <li>Act on proximal tubule & loop of Henle; increase osmolality.</li>
                    <li>Primary uses: Decrease ICP (cerebral edema), decrease IOP (glaucoma), excrete toxins.</li>
                    <li>Mannitol is potent, K+-wasting. Given IV.</li>
                    <li>Side effects: Fluid/electrolyte imbalance, pulmonary edema (major concern!), tachycardia, acidosis.</li>
                    <li>Crystallizes at low temps; warm to dissolve.</li>
                    <li>Contraindicated/caution in HF, renal failure.</li>
                </ul>
            </div>
        </section>

        <section id="carbonic-anhydrase-inhibitors">
            <h2>7. Carbonic Anhydrase Inhibitors</h2>
            <div class="info-card">
                <p>These drugs (e.g., Acetazolamide) block the enzyme <span class="highlight">carbonic anhydrase</span>, which is vital for acid-base balance (hydrogen and bicarbonate ion balance).</p>
                <h4>Mechanism:</h4>
                <ul>
                    <li>Inhibition leads to increased sodium, potassium, and bicarbonate excretion.</li>
                    <li>Prolonged use can cause metabolic acidosis.</li>
                </ul>
                <h4>Primary Uses:</h4>
                <ul>
                    <li>Decrease <span class="highlight">intraocular pressure (IOP)</span> in open-angle (chronic) glaucoma.</li>
                    <li>Also used for diuresis, epilepsy management, and high-altitude/acute mountain sickness.</li>
                    <li>Can be used for patients in metabolic alkalosis who need a diuretic.</li>
                </ul>
                <button class="reveal-button">Side Effects and Adverse Reactions</button>
                <div class="reveal-content">
                    <ul>
                        <li>Fluid and electrolyte imbalance.</li>
                        <li>Metabolic acidosis.</li>
                        <li>Nausea, vomiting, anorexia.</li>
                        <li>Confusion, orthostatic hypotension.</li>
                        <li><span class="highlight">Crystalluria</span> (crystals in urine), renal calculi (kidney stones).</li>
                        <li>Hemolytic anemia.</li>
                    </ul>
                    <div class="note">
                        <p>These drugs are contraindicated during the first trimester of pregnancy.</p>
                    </div>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: Carbonic Anhydrase Inhibitors</h4>
                <ul>
                    <li>Block carbonic anhydrase enzyme.</li>
                    <li>Increase Na+, K+, bicarbonate excretion; can cause metabolic acidosis.</li>
                    <li>Primary use: Decrease IOP in glaucoma.</li>
                    <li>Other uses: Diuresis, epilepsy, altitude sickness, metabolic alkalosis.</li>
                    <li>Side effects: Metabolic acidosis, crystalluria, renal calculi.</li>
                    <li>Contraindicated in 1st trimester pregnancy.</li>
                </ul>
            </div>
        </section>

        <section id="potassium-sparing-diuretics">
            <h2>8. Potassium-Sparing Diuretics</h2>
            <div class="info-card">
                <p><span class="tooltip-container">Potassium-Sparing Diuretics<span class="tooltip-text">Weaker diuretics that act primarily in the collecting duct and late distal tubule to promote sodium and water excretion while retaining potassium. Used as mild diuretics or in combination with potassium-wasting diuretics.</span></span> are generally weaker than thiazides and loop diuretics. They are often used as mild diuretics or, more commonly, in combination with other diuretics (like HCTZ) or antihypertensive drugs.</p>
                <div class="patient-safety">
                    <h4>Critical Warning: Hyperkalemia Risk!</h4>
                    <p>Patients on potassium-wasting diuretics often need daily oral potassium supplements. However, **potassium supplements are NOT used when taking a potassium-sparing diuretic** unless serum potassium is low. Serum potassium excess (<span class="highlight">hyperkalemia</span>) can result, especially if K+ supplements are taken concurrently or if given with ACE inhibitors/ARBs.</p>
                    <p>Monitor serum potassium periodically. If serum K+ > 5.0 mEq/L, discontinue the diuretic and restrict high-potassium foods.</p>
                </div>
                <h4>Mechanism:</h4>
                <ul>
                    <li>Act primarily in the <span class="highlight">collecting duct renal tubules</span> and late distal tubule.</li>
                    <li>Promote sodium and water excretion.</li>
                    <li><span class="highlight">Retain potassium</span>.</li>
                    <li>Interfere with the sodium-potassium pump controlled by aldosterone.</li>
                </ul>
                <p><strong>Spironolactone:</strong> An <span class="highlight">aldosterone antagonist</span>. Blocks aldosterone's action, causing potassium retention and sodium excretion. Used for cardiac disorders (improves heart rate regularity, decreases myocardial fibrosis) and HF. Effects may take 48 hours.</p>
                <p>Other examples: Amiloride, Triamterene, Eplerenone.</p>
                <div class="note">
                    <p>Potassium-sparing diuretics should **NOT be taken with ACE inhibitors and ARBs** as these also increase serum potassium levels, significantly raising hyperkalemia risk.</p>
                </div>
                <p>When used alone, they are less effective, but in combination with potassium-wasting diuretics (e.g., Spironolactone + HCTZ, Amiloride + HCTZ, Triamterene + HCTZ), they intensify diuresis and prevent potassium loss.</p>
                <table class="prototype-drug-chart responsive-table">
                    <thead>
                        <tr>
                            <th>Drug Class</th>
                            <th>Dosage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Drug Class">Potassium-sparing diuretic</td>
                            <td data-label="Dosage">
                                Edema: A: PO: Initially 100 mg/d in single or divided doses, maint: 25–200 mg/d in divided doses; max: 400 mg/d<br>
                                Hypertension: A: PO: 25–100 mg/d in single or divided doses; max: 400 mg/d
                            </td>
                        </tr>
                        <tr>
                            <th colspan="2">Watch Out For! (Contraindications & Interactions)</th>
                        </tr>
                        <tr>
                            <td data-label="Contraindications" colspan="2">
                                Renal failure, hyperkalemia, adrenal insufficiency<br>
                                <strong>Caution:</strong> Renal/hepatic dysfunction, diabetes mellitus, HF, acid-base imbalance, acidosis/alkalosis, breastfeeding, pregnancy, older adults
                            </td>
                        </tr>
                        <tr>
                            <td data-label="Drug-Lab-Food Interactions" colspan="2">
                                <strong>Increased serum potassium level with:</strong> potassium supplements; <strong>increased effects of:</strong> antihypertensives and lithium<br>
                                <strong>Life-threatening:</strong> Hyperkalemia if given with an ACE inhibitor<br>
                                <strong>Lab:</strong> Increased serum potassium level; may increase BUN, AST, alkaline phosphatase levels; decreased serum sodium, chloride
                            </td>
                        </tr>
                        <tr>
                            <th>How it Moves (Pharmacokinetics)</th>
                            <th>How it Works (Pharmacodynamics)</th>
                        </tr>
                        <tr>
                            <td data-label="Pharmacokinetics">
                                <strong>Absorption:</strong> PO: Rapidly absorbed from GI tract<br>
                                <strong>Distribution:</strong> PB: 90%<br>
                                <strong>Metabolism:</strong> t½: 1–2 h<br>
                                <strong>Excretion:</strong> In urine, mostly as metabolites and bile
                            </td>
                            <td data-label="Pharmacodynamics">
                                <strong>PO:</strong> Onset: UK; Peak: 0.5–1.5 h; Duration: 2–3 d or longer<br>
                                <strong>Therapeutic Effects/Uses:</strong> For edema, hypertension, HF, hypokalemia, and hyperaldosteronism<br>
                                <strong>Mechanism of Action:</strong> Inhibits aldosterone effects on distal renal tubules to promote sodium and water excretion and potassium retention
                            </td>
                        </tr>
                        <tr>
                            <th>Side Effects</th>
                            <th>Adverse Reactions</th>
                        </tr>
                        <tr>
                            <td data-label="Side Effects">Nausea, vomiting, diarrhea, abdominal cramps, dizziness, drowsiness, headache, confusion, weakness, muscle cramps, gout, paresthesia, dehydration, ataxia, erectile dysfunction</td>
                            <td data-label="Adverse Reactions">Hyperkalemia, hypomagnesemia, hyponatremia, hypocalcemia, hypovolemia, hyperglycemia, hyperuricemia, orthostatic hypotension, bradycardia, metabolic acidosis/alkalosis<br>
                                <strong>Life-threatening:</strong> Agranulocytosis, leukopenia, thrombocytopenia, renal/hepatic failure, Stevens-Johnson syndrome
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="reveal-button">Side Effects and Adverse Reactions</button>
                <div class="reveal-content">
                    <ul>
                        <li>Main side effect: <span class="highlight">Hyperkalemia</span>. Monitor serum K+ closely.</li>
                        <li>Headache, dizziness, asthenia (weakness).</li>
                        <li>GI disturbances (anorexia, nausea, vomiting, diarrhea).</li>
                        <li>Hyperuricemia, muscle cramps, paresthesia (numbness/tingling).</li>
                        <li>Orthostatic hypotension.</li>
                    </ul>
                    <div class="note">
                        <p>Caution in patients with poor renal function, as kidneys excrete 80-90% of potassium. Urine output should be at least 600 mL/day.</p>
                    </div>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: Potassium-Sparing Diuretics</h4>
                <ul>
                    <li>Weaker than thiazides/loops; often used in combo.</li>
                    <li>Mechanism: Act on collecting duct, retain K+, excrete Na+ & H2O.</li>
                    <li>Spironolactone: Aldosterone antagonist.</li>
                    <li>Main risk: Hyperkalemia (especially with K+ supplements, ACEIs, ARBs).</li>
                    <li>Monitor serum K+ closely! Avoid high K+ foods if K+ > 5.0 mEq/L.</li>
                    <li>Side effects: Hyperkalemia, dizziness, GI upset.</li>
                </ul>
            </div>
        </section>

        <section id="np-potassium-sparing">
            <h2>9. Clinical Judgment: Nursing Process - Diuretics: Potassium-Sparing</h2>
            <div class="info-card">
                <p>Our core concept here is: <span class="highlight">Elimination</span>.</p>
                <button class="reveal-button">Your Nursing Superpowers: Assessment to Evaluation!</button>
                <div class="reveal-content">
                    <h3>Recognize Cues [Assessment]: What do you notice?</h3>
                    <ul>
                        <li><strong>Drug History:</strong> Obtain a history of drugs taken daily. Specifically note if the patient is taking a potassium supplement or using a salt substitute (often high in potassium).</li>
                        <li><strong>Baseline Vital Signs, Serum Electrolytes, Weight, Urinary Output:</strong> Obtain these.</li>
                        <li><strong>Dose Comparison:</strong> Compare patient’s drug dose with the recommended dose, and report any discrepancy.</li>
                    </ul>

                    <h3>Analyze Cues and Prioritize Hypothesis [Patient Problems]: What's the biggest issue?</h3>
                    <ul>
                        <li>Fluid overload</li>
                        <li>Hyperkalemia</li>
                        <li>Diarrhea</li>
                        <li>Nausea</li>
                        <li>Risk for cardiac dysrhythmias</li>
                    </ul>

                    <h3>Generate Solutions [Planning]: What's the goal?</h3>
                    <ul>
                        <li>The patient’s blood pressure will be decreased.</li>
                        <li>The patient’s serum electrolytes will remain within normal ranges.</li>
                        <li>The patient will avoid hyperkalemia.</li>
                    </ul>

                    <h3>Take Action [Nursing Interventions]: What do YOU do?</h3>
                    <ul>
                        <li><strong>Administration Timing (Spironolactone):</strong> Administer in the morning, not evening, to avoid nocturia.</li>
                        <li><strong>Urinary Output:</strong> Monitor; it should increase. Report if UO is less than 30 mL/h or less than 600 mL/day.</li>
                        <li><strong>Daily Weight:</strong> Weigh patient at the same time every day with the same clothing. A loss of 2.2 lb = 1 L fluid loss.</li>
                        <li><strong>Vital Signs:</strong> Record and report any abnormal changes.</li>
                        <li><strong>Hyperkalemia Signs:</strong> Observe for signs and symptoms (serum potassium >5.0 mEq/L): nausea, diarrhea, abdominal cramps, numbness and tingling of hands/feet, leg cramps, tachycardia (later bradycardia), peaked narrow T wave on ECG, or oliguria.</li>
                    </ul>

                    <h3>Patient Teaching: Empowering Your Patient!</h3>
                    <h4>General:</h4>
                    <ul>
                        <li><strong>Timing/GI Upset:</strong> Teach patients to take spironolactone with or after meals to avoid nausea.</li>
                        <li><strong>Discontinuation:</strong> Encourage patients not to discontinue the drug without consulting a healthcare provider.</li>
                    </ul>
                    <h4>Side Effects:</h4>
                    <ul>
                        <li><strong>Photosensitivity:</strong> Caution patients to avoid direct sunlight exposure.</li>
                        <li><strong>Report Symptoms:</strong> Advise patients to report possible side effects such as rash, dizziness, weakness, and GI upset.</li>
                    </ul>
                    <h4>Diet:</h4>
                    <ul>
                        <li><strong>High Potassium Foods:</strong> Advise patients with high serum potassium levels to **avoid** foods rich in potassium when taking potassium-sparing diuretics.</li>
                    </ul>

                    <h3>Evaluate Outcomes [Evaluation]: Did it work?</h3>
                    <ul>
                        <li>Evaluate effectiveness: Decreased or absent fluid retention (edema).</li>
                        <li>Determine if urine output has increased and if serum potassium level is within the normal range.</li>
                    </ul>
                </div>
            </div>
            <div class="recap">
                <h4>Recap: NP - Potassium-Sparing Diuretics</h4>
                <ul>
                    <li><strong>Assess:</strong> Drug history (K+ supplements/salt substitutes), VS, labs (electrolytes), weight, UO.</li>
                    <li><strong>Problems:</strong> Fluid overload, hyperkalemia.</li>
                    <li><strong>Goals:</strong> Decreased BP, normal electrolytes, no hyperkalemia.</li>
                    <li><strong>Intervene:</strong> Morning dose, monitor UO (>30 mL/h), daily weight, VS, watch for hyperkalemia signs (GI, paresthesia, ECG changes), monitor K+.</li>
                    <li><strong>Teach:</strong> Take with food, don't stop abruptly, photosensitivity, report side effects, AVOID high K+ foods if K+ is high.</li>
                    <li><strong>Evaluate:</strong> Decreased edema, increased UO, normal K+.</li>
                </ul>
            </div>
        </section>

        <section id="critical-thinking" class="nclex-next-gen">
            <h3>10. NCLEX Next Gen! Critical Thinking Case Study</h3>
            <p class="case-study">A 58-year-old patient has been recently diagnosed with hypertension. His resting blood pressure is 158/92. He is prescribed hydrochlorothiazide 50 mg/day and is told to eat foods rich in potassium.</p>

            <div class="fill-in-the-blank">
                <h4>Question 1: How does hydrochlorothiazide differ from furosemide? What are their similarities and differences?</h4>
                <textarea rows="5" placeholder="Type your answer here..."></textarea>
            </div>

            <div class="fill-in-the-blank">
                <h4>Question 2: Why is it necessary for the patient to eat foods rich in potassium when taking hydrochlorothiazide? Explain your answer.</h4>
                <textarea rows="5" placeholder="Type your answer here..."></textarea>
            </div>

            <div class="fill-in-the-blank">
                <h4>Question 3: What nursing interventions should be considered while the patient takes hydrochlorothiazide?</h4>
                <textarea rows="5" placeholder="Type your answer here..."></textarea>
            </div>

            <p class="case-study">After 1 month on hydrochlorothiazide therapy, the patient becomes weak and complains of nausea and vomiting. His muscles are “soft,” and his serum potassium level is 3.3 mEq/L. The patient’s diuretic is changed to triamterene and hydrochlorothiazide. Again, he is advised to eat foods rich in potassium.</p>

            <div class="fill-in-the-blank">
                <h4>Question 4: Explain the rationale for changing the patient’s diuretic.</h4>
                <textarea rows="5" placeholder="Type your answer here..."></textarea>
            </div>

            <div class="fill-in-the-blank">
                <h4>Question 5: Should the patient receive a potassium supplement? Explain your answer.</h4>
                <div class="options">
                    <label><input type="radio" name="cs_q5_answer" value="yes"> Yes</label>
                    <label><input type="radio" name="cs_q5_answer" value="no"> No</label>
                </div>
                <textarea rows="5" placeholder="Explain your reasoning here..."></textarea>
            </div>

            <div class="fill-in-the-blank">
                <h4>Question 6: What nursing interventions should the nurse follow for the patient?</h4>
                <textarea rows="5" placeholder="Type your answer here..."></textarea>
            </div>

            <div class="fill-in-the-blank">
                <h4>Question 7: What care plan should the nurse develop for the patient in relation to patient teaching?</h4>
                <textarea rows="5" placeholder="Type your answer here..."></textarea>
            </div>

            <div class="fill-in-the-blank">
                <h4>Question 8: What medical follow-up care is needed for the patient?</h4>
                <textarea rows="5" placeholder="Type your answer here..."></textarea>
            </div>

            <button class="submit-btn" id="submit_case_study">Reveal Rationale!</button>
            <div class="feedback" id="case_study_feedback"></div>
            <div class="rationale" id="case_study_rationale">
                <h4>Rationale for Critical Thinking Case Study</h4>
                <h5>Question 1: How does hydrochlorothiazide differ from furosemide? What are their similarities and differences?</h5>
                <p><strong>Similarities:</strong> Both are diuretics used to decrease hypertension and edema. Both can cause electrolyte imbalances (hypokalemia, hyponatremia, hypochloremia, hyperglycemia, hyperuricemia) and orthostatic hypotension.</p>
                <p><strong>Differences:</strong></p>
                <ul>
                    <li><strong>Site of Action:</strong> Hydrochlorothiazide (thiazide) acts on the distal convoluted tubule. Furosemide (loop) acts on the loop of Henle.</li>
                    <li><strong>Potency/Diuresis:</strong> Furosemide is much more potent and causes greater, more rapid diuresis than hydrochlorothiazide.</li>
                    <li><strong>Renal Function:</strong> Hydrochlorothiazide is less effective with severe renal dysfunction (creatinine clearance < 30 mL/min). Furosemide remains effective even in severe renal impairment and end-stage renal disease.</li>
                    <li><strong>Calcium Excretion:</strong> Hydrochlorothiazide promotes calcium reabsorption (can cause hypercalcemia). Furosemide promotes calcium excretion (can cause hypocalcemia).</li>
                    <li><strong>Ototoxicity:</strong> Furosemide can cause transient hearing loss (ototoxicity), especially with rapid IV administration; hydrochlorothiazide does not.</li>
                    <li><strong>Half-life:</strong> Thiazides generally have a longer half-life than loop diuretics.</li>
                </ul>

                <h5>Question 2: Why is it necessary for the patient to eat foods rich in potassium when taking hydrochlorothiazide? Explain your answer.</h5>
                <p>Hydrochlorothiazide is a potassium-wasting diuretic. It promotes the excretion of potassium from the body along with sodium and water. If a patient does not replace this lost potassium through diet, they can develop hypokalemia (low serum potassium). Hypokalemia can lead to symptoms such as muscle weakness, leg cramps, fatigue, and can even cause dangerous cardiac dysrhythmias.</p>

                <h5>Question 3: What nursing interventions should be considered while the patient takes hydrochlorothiazide?</h5>
                <ul>
                    <li>Monitor vital signs regularly, especially blood pressure (for hypotension, particularly orthostatic hypotension).</li>
                    <li>Monitor serum electrolytes, especially potassium (normal 3.5-5.0 mEq/L), glucose, and uric acid.</li>
                    <li>Assess for signs and symptoms of hypokalemia (muscle weakness, leg cramps, cardiac dysrhythmias).</li>
                    <li>Monitor weight daily at the same time with the same type of clothing to assess for fluid loss/gain.</li>
                    <li>Monitor urine output.</li>
                    <li>Advise the patient to take the medication in the morning to prevent nocturia.</li>
                    <li>Instruct the patient to change positions slowly (lying to standing) to avoid dizziness from orthostatic hypotension.</li>
                    <li>Advise the patient to use sunblock due to photosensitivity.</li>
                    <li>Educate on consuming potassium-rich foods.</li>
                    <li>Suggest taking the drug with food to minimize GI upset.</li>
                </ul>

                <h5>Question 4: Explain the rationale for changing the patient’s diuretic.</h5>
                <p>The patient developed symptoms of hypokalemia (weakness, nausea, vomiting, soft muscles, serum potassium 3.3 mEq/L) while on hydrochlorothiazide, a potassium-wasting diuretic. The change to triamterene and hydrochlorothiazide is a rational decision because triamterene is a potassium-sparing diuretic. By combining it with hydrochlorothiazide, the potassium-sparing effect of triamterene helps counteract the potassium-wasting effect of hydrochlorothiazide, aiming to maintain a more stable serum potassium level and prevent further hypokalemia, while still achieving diuresis and blood pressure control.</p>

                <h5>Question 5: Should the patient receive a potassium supplement? Explain your answer.</h5>
                <p><strong>No.</strong> The patient should NOT receive a potassium supplement with the new medication (triamterene and hydrochlorothiazide combination). Triamterene is a potassium-sparing diuretic, meaning it causes the body to retain potassium. Taking a potassium supplement in addition to a potassium-sparing diuretic would significantly increase the risk of developing hyperkalemia (excessive serum potassium), which can be life-threatening and cause serious cardiac dysrhythmias.</p>

                <h5>Question 6: What nursing interventions should the nurse follow for the patient?</h5>
                <ul>
                    <li>Closely monitor serum potassium levels (normal 3.5-5.0 mEq/L) to prevent hyperkalemia.</li>
                    <li>Assess for signs and symptoms of hyperkalemia (e.g., nausea, diarrhea, abdominal cramps, numbness/tingling in hands/feet, leg cramps, changes in heart rate/rhythm like bradycardia, peaked T waves on ECG).</li>
                    <li>Continue to monitor blood pressure, weight, and urine output.</li>
                    <li>Administer the combination diuretic in the morning to avoid nocturia.</li>
                    <li>Advise patient to avoid excessive intake of potassium-rich foods, especially if labs show normal or high-normal potassium.</li>
                    <li>Monitor for other side effects of the combination drug (e.g., orthostatic hypotension, photosensitivity).</li>
                </ul>

                <h5>Question 7: What care plan should the nurse develop for the patient in relation to patient teaching?</h5>
                <ul>
                    <li><strong>Medication adherence:</strong> Emphasize taking the medication exactly as prescribed, without skipping or doubling doses.</li>
                    <li><strong>Timing:</strong> Instruct to take in the morning to prevent nighttime urination.</li>
                    <li><strong>Diet:</strong> Explain the importance of a balanced diet, cautioning against excessive potassium intake now that he is on a potassium-sparing diuretic. Discuss which foods are high in potassium.</li>
                    <li><strong>Symptoms to report:</strong> Teach signs of both hypokalemia (which he experienced) and now critically, hyperkalemia (GI upset, muscle weakness, numbness/tingling, palpitations, slow/irregular pulse). Also, teach signs of worsening hypertension or edema.</li>
                    <li><strong>Position changes:</strong> Advise slow position changes to prevent orthostatic hypotension.</li>
                    <li><strong>Sun protection:</strong> Remind about photosensitivity and using sunblock.</li>
                    <li><strong>Self-monitoring:</strong> Instruct on daily weight checks and home blood pressure monitoring, and when to report findings.</li>
                    <li><strong>No OTCs/supplements:</strong> Advise against using potassium supplements or salt substitutes without consulting the provider. Avoid alcohol.</li>
                </ul>

                <h5>Question 8: What medical follow-up care is needed for the patient?</h5>
                <ul>
                    <li>Regular follow-up appointments with the healthcare provider to monitor blood pressure control, fluid status, and overall response to the new diuretic.</li>
                    <li>Frequent monitoring of serum electrolyte levels (especially potassium) and renal function (BUN, creatinine) to ensure safety and effectiveness of the new medication.</li>
                    <li>Monitoring for lipid levels and glucose, as diuretics can impact these.</li>
                    <li>ECG monitoring periodically, especially if electrolyte imbalances persist or new cardiac symptoms arise.</li>
                    <li>Dietary consultation with a registered dietitian to help manage potassium intake.</li>
                </ul>
            </div>
            <div class="recap">
                <h4>Recap: Case Study Takeaways</h4>
                <ul>
                    <li>Thiazides are K+-wasting; loop diuretics are more potent and also K+-wasting.</li>
                    <li>Hypokalemia is a significant risk with K+-wasting diuretics, necessitating K+-rich foods or supplements.</li>
                    <li>Potassium-sparing diuretics help retain K+; combining them with K+-wasting diuretics balances K+ levels.</li>
                    <li>NEVER give K+ supplements with K+-sparing diuretics unless K+ levels are low, due to hyperkalemia risk.</li>
                    <li>Recognize symptoms of hypokalemia (weakness, soft muscles, nausea/vomiting) and hyperkalemia (GI, paresthesia, bradycardia).</li>
                    <li>Crucial nursing interventions involve monitoring VS, labs (electrolytes!), weight, UO, and comprehensive patient teaching (medication adherence, side effect recognition, diet, safety).</li>
                </ul>
            </div>
        </section>

        <section id="review-questions">
            <h2>11. Module Review Questions: Test Your Knowledge!</h2>

            <div class="question-card" id="q1">
                <p>1. A patient is taking hydrochlorothiazide 50 mg/day and digoxin 0.25 mg/day. The nurse plans to monitor the patient for which potential electrolyte imbalance?</p>
                <div class="options">
                    <label><input type="radio" name="q1_option" value="a"> a. Hypocalcemia</label>
                    <label><input type="radio" name="q1_option" value="b"> b. Hypokalemia</label>
                    <label><input type="radio" name="q1_option" value="c"> c. Hyperkalemia</label>
                    <label><input type="radio" name="q1_option" value="d"> d. Hypermagnesemia</label>
                </div>
                <button class="submit-btn" id="submit_q1">Check My Answer!</button>
                <div class="feedback" id="q1_feedback"></div>
            </div>

            <div class="question-card" id="q2">
                <p>2. The nurse knows that which statement is correct regarding nursing care of a patient receiving hydrochlorothiazide? (Select all that apply.)</p>
                <div class="options">
                    <label><input type="checkbox" name="q2_option" value="a"> a. Monitor patients for signs of hypoglycemia.</label>
                    <label><input type="checkbox" name="q2_option" value="b"> b. Administer ordered potassium supplements.</label>
                    <label><input type="checkbox" name="q2_option" value="c"> c. Monitor serum potassium and uric acid levels.</label>
                    <label><input type="checkbox" name="q2_option" value="d"> d. Assess blood pressure before administration.</label>
                    <label><input type="checkbox" name="q2_option" value="e"> e. Notify the health care provider if a patient has had oliguria for 24 hours.</label>
                    <label><input type="checkbox" name="q2_option" value="f"> f. Assess for decreased cholesterol and triglyceride levels.</label>
                </div>
                <button class="submit-btn" id="submit_q2">Check My Answer!</button>
                <div class="feedback" id="q2_feedback"></div>
            </div>

            <div class="question-card" id="q3">
                <p>3. A patient has heart failure, and a high dose of furosemide is ordered. What suggests a favorable response to furosemide?</p>
                <div class="options">
                    <label><input type="radio" name="q3_option" value="a"> a. A decrease in level of consciousness occurs, and the patient sleeps more.</label>
                    <label><input type="radio" name="q3_option" value="b"> b. Respiratory rate decreases from 28/min to 20/min, and the depth increases.</label>
                    <label><input type="radio" name="q3_option" value="c"> c. Breath sounds reveal increased congestion and the patient complains of shortness of breath.</label>
                    <label><input type="radio" name="q3_option" value="d"> d. Urine output is 50 mL/4 hours, and intake is 200 milliliters.</label>
                </div>
                <button class="submit-btn" id="submit_q3">Check My Answer!</button>
                <div class="feedback" id="q3_feedback"></div>
            </div>

            <div class="question-card" id="q4">
                <p>4. What does the nurse know to be correct concerning the use of mannitol in patients?</p>
                <div class="options">
                    <label><input type="radio" name="q4_option" value="a"> a. It decreases intracranial pressure.</label>
                    <label><input type="radio" name="q4_option" value="b"> b. It increases intraocular pressure.</label>
                    <label><input type="radio" name="q4_option" value="c"> c. It causes sodium and potassium retention.</label>
                    <label><input type="radio" name="q4_option" value="d"> d. It causes diuresis in several days.</label>
                </div>
                <button class="submit-btn" id="submit_q4">Check My Answer!</button>
                <div class="feedback" id="q4_feedback"></div>
            </div>

            <div class="question-card" id="q5">
                <p>5. What should the nurse do when a patient is taking furosemide?</p>
                <div class="options">
                    <label><input type="radio" name="q5_option" value="a"> a. Instruct the patient to change positions quickly when getting out of bed.</label>
                    <label><input type="radio" name="q5_option" value="b"> b. Assess blood pressure before administration.</label>
                    <label><input type="radio" name="q5_option" value="c"> c. Administer the drug at bedtime for maximum effectiveness.</label>
                    <label><input type="radio" name="q5_option" value="d"> d. Teach the patient to avoid fruits to prevent hyperkalemia.</label>
                </div>
                <button class="submit-btn" id="submit_q5">Check My Answer!</button>
                <div class="feedback" id="q5_feedback"></div>
            </div>

            <div class="question-card" id="q6">
                <p>6. For the patient taking a diuretic, a combination such as triamterene and hydrochlorothiazide may be prescribed. The nurse realizes that this combination is ordered for which purpose?</p>
                <div class="options">
                    <label><input type="radio" name="q6_option" value="a"> a. To decrease serum potassium level</label>
                    <label><input type="radio" name="q6_option" value="b"> b. To maintain serum potassium level</label>
                    <label><input type="radio" name="q6_option" value="c"> c. To decrease glucose level</label>
                    <label><input type="radio" name="q6_option" value="d"> d. To increase glucose level</label>
                </div>
                <button class="submit-btn" id="submit_q6">Check My Answer!</button>
                <div class="feedback" id="q6_feedback"></div>
            </div>

            <div class="question-card" id="q7">
                <p>7. The patient has been receiving spironolactone 50 mg/day for heart failure. The nurse should closely monitor the patient for which condition?</p>
                <div class="options">
                    <label><input type="radio" name="q7_option" value="a"> a. Hypokalemia</label>
                    <label><input type="radio" name="q7_option" value="b"> b. Hyperkalemia</label>
                    <label><input type="radio" name="q7_option" value="c"> c. Hypoglycemia</label>
                    <label><input type="radio" name="q7_option" value="d"> d. Hypermagnesemia</label>
                </div>
                <button class="submit-btn" id="submit_q7">Check My Answer!</button>
                <div class="feedback" id="q7_feedback"></div>
            </div>

        </section>
        <section id="drug-mastery-quiz">
            <h2>12. Drug Mastery Challenge: Let's Master These Meds!</h2>
            <p>Ready to test your knowledge on Diuretics? Go through each card and see if you can recall the key information!</p>
            <button id="startQuizBtn">Start Drug Mastery Challenge!</button>

            <div class="quiz-card" id="drugQuizCard">
                <div class="progress-tracker">Card <span id="currentCardNum">1</span> of <span id="totalCardsNum">0</span></div>
                <h4 id="drugName">Drug Name Goes Here</h4>
                <p id="drugQuestion">Question about the drug will appear here.</p>

                <div class="quiz-controls">
                    <button id="showAnswerBtn">Show Answer</button>
                </div>

                <div id="answerFeedback">
                    <h5>Answer: <span id="answerType"></span></h5>
                    <p id="answerContent"></p>
                </div>

                <div id="masteryButtons" style="display: none;">
                    <p>Did you get it right?</p>
                    <button id="correctBtn">Yes, I knew it!</button>
                    <button id="incorrectBtn">No, I need to review.</button>
                </div>
            </div>

            <div id="quizSummary">
                <h4>Challenge Complete!</h4>
                <p>You've gone through all the drugs!</p>
                <p>Mastered on first try: <span id="masteredCount">0</span></p>
                <p>Needed review: <span id="missedCount">0</span></p>
                <button id="restartQuizBtn">Restart Full Quiz</button>
                <button id="reviewMissedBtn">Review Missed Drugs</button>
            </div>
        </section>

        <footer>
            <p>&copy; 2025 Diuretics Learning Module. Designed for focused learning.</p>
        </footer>
    </div>

    <div id="clockOutOverlay">
        <div id="clockOutContent">
            <h2>Clock Out!</h2>
            <p>Take a moment to reset your focus. Your module will resume in:</p>
            <div id="brainEmoji">🧠</div> <div id="countdownTimer">00:30</div>
        </div>
    </div>
    <script>
        // ==========================================
        // Drug Data (This is the only part that can safely sit outside DOMContentLoaded)
        // ==========================================
        const drugs = [
            {
                name: "Hydrochlorothiazide (HCTZ)",
                class: "Thiazide Diuretic",
                keyActions: "Acts on distal convoluted tubule to promote sodium, chloride, and water excretion. Used for hypertension and peripheral edema.",
                sideEffects: "Hypokalemia, hypomagnesemia, hypercalcemia, hyperglycemia, hyperuricemia, hyperlipidemia, dizziness, headache, photosensitivity, orthostatic hypotension, GI upset.",
                nursingConsiderations: "Administer in the morning to avoid nocturia. Monitor electrolytes (especially K+), glucose, uric acid, and lipids. Advise K+-rich foods or supplements if needed. Teach slow position changes for orthostatic hypotension. Advise sunblock for photosensitivity. Less effective with severe renal dysfunction. Can increase digitalis toxicity if hypokalemia is present."
            },
            {
                name: "Furosemide",
                class: "Loop Diuretic",
                keyActions: "Acts on the thick ascending loop of Henle to inhibit chloride and sodium reabsorption, leading to potent diuresis. Increases excretion of Na+, K+, Ca2+, Mg2+. Used for heart failure, renal dysfunction (even ESRD), hypertension, acute pulmonary/peripheral edema.",
                sideEffects: "Hypokalemia, hyponatremia, hypocalcemia, hypomagnesemia, hypovolemia, orthostatic hypotension, ototoxicity (transient hearing loss, especially with rapid IV), hyperglycemia, hyperuricemia, GI upset, photosensitivity.",
                nursingConsiderations: "Administer in the morning. Monitor electrolytes (especially K+), fluid status (daily weight, urine output). Administer IV slowly (over 1-2 min) to prevent ototoxicity. Teach slow position changes. High risk for digitalis toxicity if hypokalemia occurs. Check for sulfa allergy."
            },
            {
                name: "Mannitol",
                class: "Osmotic Diuretic",
                keyActions: "Increases osmolality in proximal tubule and loop of Henle, leading to excretion of Na+, Cl-, K+ (lesser degree), and water. Primarily used to decrease intracranial pressure (ICP) in cerebral edema and intraocular pressure (IOP) in glaucoma, also for excretion of toxic substances.",
                sideEffects: "Fluid and electrolyte imbalance, pulmonary edema (from rapid fluid shift), nausea, vomiting, tachycardia, acidosis, headache, blurred vision, dizziness.",
                nursingConsiderations: "Administered intravenously. Monitor closely for fluid and electrolyte balance and signs of pulmonary edema. Must be warmed to dissolve crystals before administration; do not use if crystals are present. Contraindicated in severe heart failure or renal failure."
            },
            {
                name: "Acetazolamide",
                class: "Carbonic Anhydrase Inhibitor",
                keyActions: "Blocks carbonic anhydrase enzyme, leading to increased excretion of sodium, potassium, and bicarbonate. Primarily used to decrease intraocular pressure in open-angle glaucoma. Also for diuresis, epilepsy, altitude sickness.",
                sideEffects: "Fluid and electrolyte imbalance, metabolic acidosis (with prolonged use), nausea, vomiting, anorexia, confusion, orthostatic hypotension, crystalluria, renal calculi, hemolytic anemia.",
                nursingConsiderations: "Monitor for metabolic acidosis and electrolyte imbalances. Advise adequate hydration to prevent crystalluria/kidney stones. Contraindicated during first trimester of pregnancy."
            },
            {
                name: "Spironolactone",
                class: "Potassium-Sparing Diuretic (Aldosterone Antagonist)",
                keyActions: "Inhibits aldosterone effects on distal renal tubules, promoting sodium and water excretion while retaining potassium. Used as a mild diuretic, for hypertension, heart failure (improves cardiac remodeling), and hypokalemia.",
                sideEffects: "Hyperkalemia (major risk!), nausea, vomiting, diarrhea, abdominal cramps, dizziness, drowsiness, headache, confusion, weakness, muscle cramps, paresthesia, orthostatic hypotension, gynecomastia (men), menstrual irregularities (women).",
                nursingConsiderations: "Administer in the morning. Closely monitor serum potassium levels (normal 3.5-5.0 mEq/L). Advise patients to AVOID potassium supplements and excessive potassium-rich foods (e.g., bananas, oranges, salt substitutes) due to hyperkalemia risk. Do NOT use with ACE inhibitors or ARBs unless strictly monitored due to severe hyperkalemia risk. Teach slow position changes for orthostatic hypotension. Advise photosensitivity precautions."
            },
            {
                name: "Triamterene",
                class: "Potassium-Sparing Diuretic",
                keyActions: "Acts directly on the collecting duct and late distal tubule to inhibit sodium reabsorption and potassium excretion. Used for peripheral edema and hypertension, often in combination with a thiazide diuretic.",
                sideEffects: "Hyperkalemia, nausea, vomiting, diarrhea, abdominal cramps, dizziness, headache, weakness, fatigue, photosensitivity, leg cramps, hyperuricemia, metabolic acidosis.",
                nursingConsiderations: "Similar to spironolactone regarding hyperkalemia risk. Monitor serum potassium closely, especially when used in combination with other diuretics or ACE inhibitors. Advise to avoid potassium supplements and high-potassium foods. Administer in the morning."
            },
            {
                name: "Amiloride",
                class: "Potassium-Sparing Diuretic",
                keyActions: "Blocks sodium channels in the collecting duct, leading to sodium and water excretion and potassium retention. Used for hypertension, heart failure, and hypokalemia.",
                sideEffects: "Hyperkalemia, dizziness, headache, cough, orthostatic hypotension, constipation, hyponatremia, anorexia, nausea, vomiting, diarrhea.",
                nursingConsiderations: "Similar hyperkalemia risks and monitoring as other potassium-sparing diuretics. Often used in fixed-dose combinations with HCTZ. Advise avoiding potassium supplements and high-potassium foods."
            }
        ];

        // ==========================================
        // ALL JavaScript code and functions MUST be inside this single DOMContentLoaded listener.
        // This ensures all HTML elements are available when the script tries to access them.
        // ==========================================
        document.addEventListener('DOMContentLoaded', () => {

            // --- QUIZ VARIABLES AND ELEMENT SELECTIONS ---
            let currentQuizDrugsCopy = [];
            let currentDrugIndex = 0;
            let masteredDrugs = [];
            let missedDrugs = [];
            const questionTypes = ['class', 'keyActions', 'sideEffects', 'nursingConsiderations'];

            const startQuizBtn = document.getElementById('startQuizBtn');
            const drugQuizCard = document.getElementById('drugQuizCard');
            const drugNameEl = document.getElementById('drugName');
            const drugQuestionEl = document.getElementById('drugQuestion');
            const showAnswerBtn = document.getElementById('showAnswerBtn');
            const answerFeedbackEl = document.getElementById('answerFeedback');
            const answerTypeEl = document.getElementById('answerType');
            const answerContentEl = document.getElementById('answerContent');
            const masteryButtons = document.getElementById('masteryButtons');
            const correctBtn = document.getElementById('correctBtn');
            const incorrectBtn = document.getElementById('incorrectBtn');
            const quizSummary = document.getElementById('quizSummary');
            const masteredCountEl = document.getElementById('masteredCount');
            const missedCountEl = document.getElementById('missedCount');
            const restartQuizBtn = document.getElementById('restartQuizBtn');
            const reviewMissedBtn = document.getElementById('reviewMissedBtn');
            const currentCardNumEl = document.getElementById('currentCardNum');
            const totalCardsNumEl = document.getElementById('totalCardsNum');

            // --- MODULE PROGRESS BAR VARIABLES ---
            const moduleProgressBar = document.getElementById('moduleProgressBar');
            const sections = document.querySelectorAll('section[id]'); // Select all sections with an ID
            let completedSectionsCount = 0; // Tracks number of completed logical sections

            const completableSectionIds = new Set();
            // Populate completableSectionIds with all relevant section IDs
            document.querySelectorAll('section').forEach(section => {
                // Consider a section completable if it has a reveal button, a question card, or a text area (for case study)
                // and it's not the overall intro or objectives (which are auto-completed or just setup)
                // The quiz section itself should also count.
                if (section.id && (section.querySelector('.reveal-button') || section.querySelector('.question-card') || section.id === 'drug-mastery-quiz' || section.id === 'critical-thinking' || section.querySelector('textarea'))) {
                    completableSectionIds.add(section.id);
                }
            });

            // This line MUST be after completableSectionIds is fully populated
            const totalSections = completableSectionIds.size;


            // --- HELPER FUNCTIONS ---

            function updateProgressBar() {
                const progress = (completedSectionsCount / totalSections) * 100;
                moduleProgressBar.style.width = `${progress}%`;
            }

            function markSectionCompleted(sectionId) {
                const navLink = document.getElementById('nav-' + sectionId); // Use ID now
                if (navLink && !navLink.classList.contains('completed')) {
                    navLink.classList.add('completed');
                    if (completableSectionIds.has(sectionId)) {
                        completedSectionsCount++;
                        updateProgressBar();
                        // Trigger micro-break only if the "clock out" overlay is not active
                        if (!document.getElementById('clockOutOverlay').classList.contains('active')) {
                            // Changed to trigger every 3 sections (after the 3rd, 6th, 9th, etc.)
                            if (completedSectionsCount > 0 && completedSectionsCount % 3 === 0 && completedSectionsCount !== totalSections) {
                                showMicroBreakPrompt();
                            }
                        }
                    }
                }
            }

            // --- Manual scrolling for navigation links ---
            document.querySelectorAll('nav ul li a').forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // Prevent default link behavior (no page reload/new tab)
                    const targetId = this.id.replace('nav-', ''); // Get the actual section ID
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        // Optionally, update the URL hash without reloading
                        // window.location.hash = targetId;
                    }
                });
            });

            // toggleReveal function (now called by event listener, no longer onclick)
            function toggleReveal(button) {
                const content = button.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                    button.textContent = button.dataset.originalText;
                } else {
                    content.style.display = "block";
                    button.dataset.originalText = button.textContent;
                    button.textContent = "Click to Hide Details";
                    const parentSection = button.closest('section');
                    if (parentSection && parentSection.id) {
                        markSectionCompleted(parentSection.id);
                    }
                }
            }

            // --- Question Checking Functions ---
            function checkAnswer(questionId, correctAnswer) {
                const questionCard = document.getElementById(questionId);
                const selectedOption = questionCard.querySelector('input[name="' + questionId + '_option"]:checked');
                const feedbackDiv = questionCard.querySelector('.feedback');

                // Disable options after submission
                questionCard.querySelectorAll('input[type="radio"]').forEach(input => input.disabled = true);
                const submitBtn = questionCard.querySelector('.submit-btn');
                if (submitBtn) {
                    submitBtn.disabled = true;
                }

                if (!selectedOption) {
                    feedbackDiv.textContent = "Oops! Please pick an answer before checking.";
                    feedbackDiv.className = 'feedback incorrect';
                    feedbackDiv.style.display = 'block';
                    return;
                }

                if (selectedOption.value === correctAnswer) {
                    feedbackDiv.textContent = "Awesome! That's correct. Keep up the great work!";
                    feedbackDiv.className = 'feedback correct';
                } else {
                    feedbackDiv.textContent = `Not quite! The correct answer was: ${correctAnswer.toUpperCase()}. Review the material and try to understand why.`;
                    feedbackDiv.className = 'feedback incorrect';
                }
                feedbackDiv.style.display = 'block';
                markSectionCompleted(questionCard.closest('section').id);
            }

            function checkMultipleAnswers(questionId, correctAnswers) {
                const questionCard = document.getElementById(questionId);
                const selectedOptions = Array.from(questionCard.querySelectorAll('input[name="' + questionId + '_option"]:checked')).map(input => input.value);
                const feedbackDiv = questionCard.querySelector('.feedback');

                // Disable options after submission
                questionCard.querySelectorAll('input[type="checkbox"]').forEach(input => input.disabled = true);
                const submitBtn = questionCard.querySelector('.submit-btn');
                if (submitBtn) {
                    submitBtn.disabled = true;
                }


                if (selectedOptions.length === 0) {
                    feedbackDiv.textContent = "Don't forget to select your answers!";
                    feedbackDiv.className = 'feedback incorrect';
                    feedbackDiv.style.display = 'block';
                    return;
                }

                // Convert correctAnswers to a Set for efficient lookup
                const correctSet = new Set(correctAnswers);

                // Check if all selected options are in the correct answers AND
                // if all correct answers were selected (no missing ones)
                const isCorrect = selectedOptions.every(answer => correctSet.has(answer)) &&
                                correctAnswers.every(answer => selectedOptions.includes(answer)) &&
                                selectedOptions.length === correctAnswers.length; // Ensure no extra incorrect options were selected

                if (isCorrect) {
                    feedbackDiv.textContent = "Fantastic! You got all the correct points!";
                    feedbackDiv.className = 'feedback correct';
                } else {
                    feedbackDiv.textContent = `Hold on! Double-check the options and review the related content. You might have missed something or picked too many/too few. Correct answers were: ${correctAnswers.map(ans => ans.toUpperCase()).join(', ')}.`;
                    feedbackDiv.className = 'feedback incorrect';
                }
                feedbackDiv.style.display = 'block';
                markSectionCompleted(questionCard.closest('section').id);
            }

            function checkCaseStudy() {
                const feedbackDiv = document.getElementById('case_study_feedback');
                const rationaleDiv = document.getElementById('case_study_rationale');

                // Disable inputs and button after submission
                document.querySelectorAll('#critical-thinking textarea, #critical-thinking input').forEach(input => input.disabled = true);
                document.getElementById('submit_case_study').disabled = true;

                // For the case study, we just enable the rationale. It's a free-text input type question.
                feedbackDiv.textContent = "Review the rationale below to check your answers and deepen your understanding!";
                feedbackDiv.className = 'feedback info'; // Neutral feedback
                feedbackDiv.style.display = 'block';
                rationaleDiv.style.display = 'block';
                markSectionCompleted('critical-thinking');
            }


            // --- DRUG MASTERY QUIZ FUNCTIONS ---
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function startQuiz(reviewMode = false) {
                if (!reviewMode) {
                    currentQuizDrugsCopy = shuffleArray([...drugs]); // Start with all drugs shuffled
                    masteredDrugs = [];
                    missedDrugs = [];
                } else {
                    if (missedDrugs.length === 0) {
                        alert("Fantastic! You've mastered all the drugs in the review pile. Starting a new full quiz!");
                        currentQuizDrugsCopy = shuffleArray([...drugs]);
                        masteredDrugs = [];
                        missedDrugs = [];
                    } else {
                        currentQuizDrugsCopy = shuffleArray([...missedDrugs]); // Only review missed ones
                        missedDrugs = []; // Clear missed for the new review round
                    }
                }

                currentDrugIndex = 0;
                startQuizBtn.style.display = 'none';
                drugQuizCard.style.display = 'block';
                quizSummary.style.display = 'none';
                displayCurrentCard();
                markSectionCompleted('drug-mastery-quiz'); // Mark quiz section completed when started
            }

            function displayCurrentCard() {
                if (currentDrugIndex >= currentQuizDrugsCopy.length) {
                    showQuizSummary();
                    return;
                }

                const currentDrug = currentQuizDrugsCopy[currentDrugIndex];
                const randomQuestionType = questionTypes[Math.floor(Math.random() * questionTypes.length)];

                drugNameEl.textContent = currentDrug.name;
                currentCardNumEl.textContent = currentDrugIndex + 1;
                totalCardsNumEl.textContent = currentQuizDrugsCopy.length;

                let questionText = '';
                switch (randomQuestionType) {
                    case 'class':
                        questionText = `What is the **drug class** for ${currentDrug.name}?`;
                        break;
                    case 'keyActions':
                        questionText = `What is a **key action or use** of ${currentDrug.name}?`;
                        break;
                    case 'sideEffects':
                        questionText = `Name one or two **common side effects** of ${currentDrug.name}.`;
                        break;
                    case 'nursingConsiderations':
                        questionText = `What is an **important nursing consideration** when administering ${currentDrug.name}?`;
                        break;
                }
                drugQuestionEl.innerHTML = questionText;

                answerFeedbackEl.style.display = 'none';
                masteryButtons.style.display = 'none';
                showAnswerBtn.style.display = 'block';

                drugQuizCard.dataset.currentQuestionType = randomQuestionType;
            }

            function showAnswer() {
                const currentDrug = currentQuizDrugsCopy[currentDrugIndex];
                const questionType = drugQuizCard.dataset.currentQuestionType;

                answerTypeEl.textContent = questionType.replace(/([A-Z])/g, ' $1').toLowerCase().replace(/^./, str => str.toUpperCase());

                let content = '';
                switch (questionType) {
                    case 'class':
                        content = currentDrug.class;
                        break;
                    case 'keyActions':
                        content = currentDrug.keyActions;
                        break;
                    case 'sideEffects':
                        content = currentDrug.sideEffects;
                        break;
                    case 'nursingConsiderations':
                        content = currentDrug.nursingConsiderations;
                        break;
                }
                answerContentEl.textContent = content;

                answerFeedbackEl.style.display = 'block';
                showAnswerBtn.style.display = 'none';
                masteryButtons.style.display = 'flex';
            }

            function handleMastery(isCorrect) {
                const currentDrug = currentQuizDrugsCopy[currentDrugIndex];
                if (isCorrect) {
                    // Only add to mastered if it wasn't previously in missed (first attempt correct)
                    // If it was in missed and now correct, it still 'counts' as correct this round
                    if (!missedDrugs.includes(currentDrug)) {
                        masteredDrugs.push(currentDrug);
                    }
                } else {
                    missedDrugs.push(currentDrug);
                }
                masteryButtons.style.display = 'none';

                setTimeout(() => {
                    currentDrugIndex++;
                    displayCurrentCard();
                }, 1500); // 1.5 second delay before next card
            }

            function showQuizSummary() {
                drugQuizCard.style.display = 'none';
                quizSummary.style.display = 'block';

                const uniqueMastered = [...new Set(masteredDrugs)];
                const uniqueMissed = [...new Set(missedDrugs)];

                masteredCountEl.textContent = uniqueMastered.length;
                missedCountEl.textContent = uniqueMissed.length;
            }

            // --- EVENT LISTENERS ---

            // Attach event listeners for all reveal buttons
            document.querySelectorAll('.reveal-button').forEach(button => {
                button.addEventListener('click', function() {
                    toggleReveal(this); // 'this' refers to the button that was clicked
                });
            });

            // Attach event listeners for quiz question submit buttons (by their IDs)
            document.getElementById('submit_q1').addEventListener('click', () => checkAnswer('q1', 'b'));
            document.getElementById('submit_q2').addEventListener('click', () => checkMultipleAnswers('q2', ['b', 'c', 'd', 'e']));
            document.getElementById('submit_q3').addEventListener('click', () => checkAnswer('q3', 'b'));
            document.getElementById('submit_q4').addEventListener('click', () => checkAnswer('q4', 'a'));
            document.getElementById('submit_q5').addEventListener('click', () => checkAnswer('q5', 'b'));
            document.getElementById('submit_q6').addEventListener('click', () => checkAnswer('q6', 'b'));
            document.getElementById('submit_q7').addEventListener('click', () => checkAnswer('q7', 'b'));

            document.getElementById('submit_case_study').addEventListener('click', checkCaseStudy);


            // Quiz Mastery Challenge Event Listeners
            startQuizBtn.addEventListener('click', () => startQuiz(false));
            showAnswerBtn.addEventListener('click', showAnswer);
            correctBtn.addEventListener('click', () => handleMastery(true));
            incorrectBtn.addEventListener('click', () => handleMastery(false));
            restartQuizBtn.addEventListener('click', () => startQuiz(false));
            reviewMissedBtn.addEventListener('click', () => startQuiz(true));

            // Text Size Controls
            const increaseTextBtn = document.getElementById('increaseText');
            const decreaseTextBtn = document.getElementById('decreaseText');
            let currentFontSize = 16; // Base font size in px (matches default Open Sans)

            increaseTextBtn.addEventListener('click', () => {
                currentFontSize += 2;
                document.body.style.fontSize = `${currentFontSize}px`;
            });

            decreaseTextBtn.addEventListener('click', () => {
                currentFontSize -= 2;
                if (currentFontSize < 12) currentFontSize = 12; // Minimum size
                document.body.style.fontSize = `${currentFontSize}px`;
            });

            // Quick Notes persistence (uses localStorage)
            const quickNotesTextarea = document.getElementById('quickNotesTextarea');
            if (localStorage.getItem('diureticsModuleNotes')) {
                quickNotesTextarea.value = localStorage.getItem('diureticsModuleNotes');
            }
            quickNotesTextarea.addEventListener('input', () => {
                localStorage.setItem('diureticsModuleNotes', quickNotesTextarea.value);
            });

            // Micro-Break Prompts (Original functionality without Clock Out)
            const microBreakPromptEl = document.getElementById('microBreakPrompt');
            const breakPrompts = [
                "Quick Break! Stand up and stretch, or take a few deep breaths!",
                "Time for a 30-second mental reset. Look away from the screen for a moment!",
                "Mini-Break! Wiggle your toes or do a quick shoulder roll.",
                "Focus check! Take a sip of water and recenter. You're doing great!",
                "Short pause! How about a quick doodle or scribble for 15 seconds!"
            ];
            let breakPromptTimeout;

            function showMicroBreakPrompt() {
                if (breakPromptTimeout) {
                    clearTimeout(breakPromptTimeout);
                }
                const randomPrompt = breakPrompts[Math.floor(Math.random() * breakPrompts.length)];
                microBreakPromptEl.textContent = randomPrompt;
                microBreakPromptEl.style.display = 'block';
                // Set a timer to hide it after the animation
                breakPromptTimeout = setTimeout(() => {
                    microBreakPromptEl.style.display = 'none';
                }, 8000); // Matches animation duration
            }

            // --- Initial setup calls that run once DOM is fully loaded ---
            // Initialize reveal button original text (needed for toggleReveal)
            document.querySelectorAll('.reveal-button').forEach(button => {
                button.dataset.originalText = button.textContent;
            });
            updateProgressBar(); // Initial update
        }); // END OF document.addEventListener('DOMContentLoaded', ...)
    </script>
</body>
</html>